
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the Infobaleen Platform">
      
      
      
      <link rel="icon" href="../../../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.3.8">
    
    
      
        <title>Sources - Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#create-sources" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Documentation" class="md-header__button md-logo" aria-label="Documentation" data-md-component="logo">
      
  <img src="../../../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Sources
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../Analytics/Dashboards/" class="md-tabs__link">
        Analytics
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../Segmentations/Auto-targeting/" class="md-tabs__link">
        Segmentations
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../Recommendations/Overview/" class="md-tabs__link">
        Recommendations
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../Account/API-Keys/" class="md-tabs__link md-tabs__link--active">
        Configure the platform
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../Other/Data-Specification/" class="md-tabs__link">
        Other
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Documentation" class="md-nav__button md-logo" aria-label="Documentation" data-md-component="logo">
      
  <img src="../../../../assets/logo.png" alt="logo">

    </a>
    Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Analytics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Analytics" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Analytics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Analytics/Dashboards/" class="md-nav__link">
        Dashboards
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Analytics/Customer-Insights/" class="md-nav__link">
        Customer Insights
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Segmentations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Segmentations" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Segmentations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Segmentations/Auto-targeting/" class="md-nav__link">
        Auto-targeting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Segmentations/Clustering/" class="md-nav__link">
        Clustering
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Recommendations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Recommendations" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Recommendations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Recommendations/Overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Recommendations/Settings/" class="md-nav__link">
        Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Recommendations/Front%20page/" class="md-nav__link">
        Front page
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Recommendations/Data%20available%20in%20recommendations/" class="md-nav__link">
        Data available in recommendations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Recommendations/Recommendations%20in%20emails/" class="md-nav__link">
        Recommendations in emails
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Recommendations/Infobaleen%20recommended%20recommendation%20profiles/" class="md-nav__link">
        Infobaleen recommended recommendation profiles
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Configure the platform
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Configure the platform" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Configure the platform
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_1" type="checkbox" id="__nav_5_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_1">
          Account
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Account" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_1">
          <span class="md-nav__icon md-icon"></span>
          Account
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Account/API-Keys/" class="md-nav__link">
        API Keys
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Account/Logout/" class="md-nav__link">
        Logout
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Account/Users/" class="md-nav__link">
        Users
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_2">
          Admin
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Admin" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Admin
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Admin/Clear-CH-chache/" class="md-nav__link">
        Clear CH chache
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Admin/Configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Admin/Connections/" class="md-nav__link">
        Connections
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Admin/Events/" class="md-nav__link">
        Events
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Admin/Secrets/" class="md-nav__link">
        Secrets
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_3" type="checkbox" id="__nav_5_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_3">
          Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Documentation" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Documentation/Agent/" class="md-nav__link">
        Agent
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Documentation/Recommendations/" class="md-nav__link">
        Recommendations API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Documentation/New-Issue/" class="md-nav__link">
        New Issue
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_4">
          Manage Data
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Manage Data" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Manage Data
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Data-Models/" class="md-nav__link">
        Data Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Import-Files/" class="md-nav__link">
        Import Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Results/" class="md-nav__link">
        Results
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Sources
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Sources
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#create-sources" class="md-nav__link">
    Create sources
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#frontpage-columns" class="md-nav__link">
    Frontpage columns
  </a>
  
    <nav class="md-nav" aria-label="Frontpage columns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#name" class="md-nav__link">
    Name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cnf-version" class="md-nav__link">
    Cnf Version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#count" class="md-nav__link">
    Count
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tags" class="md-nav__link">
    Tags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers" class="md-nav__link">
    Drivers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sync" class="md-nav__link">
    Sync
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updated-at" class="md-nav__link">
    Updated At
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synced-at" class="md-nav__link">
    Synced At
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#top-menu" class="md-nav__link">
    Top Menu
  </a>
  
    <nav class="md-nav" aria-label="Top Menu">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delete" class="md-nav__link">
    Delete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tag" class="md-nav__link">
    Tag
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-sync-schedule" class="md-nav__link">
    Set sync schedule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#migrate" class="md-nav__link">
    Migrate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#truncate" class="md-nav__link">
    Truncate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sync_1" class="md-nav__link">
    Sync
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create" class="md-nav__link">
    Create
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#edit-a-source" class="md-nav__link">
    Edit a source
  </a>
  
    <nav class="md-nav" aria-label="Edit a source">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#settings" class="md-nav__link">
    Settings
  </a>
  
    <nav class="md-nav" aria-label="Settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#name_1" class="md-nav__link">
    Name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id-columns" class="md-nav__link">
    Id columns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runevery" class="md-nav__link">
    RunEvery
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comment" class="md-nav__link">
    Comment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge-filter" class="md-nav__link">
    Merge filter
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query" class="md-nav__link">
    Query
  </a>
  
    <nav class="md-nav" aria-label="Query">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#database-connection" class="md-nav__link">
    Database connection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load-saved-query" class="md-nav__link">
    Load saved query
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preprocessor-directives" class="md-nav__link">
    Preprocessor directives
  </a>
  
    <nav class="md-nav" aria-label="Preprocessor directives">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#xml-file" class="md-nav__link">
    xml file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-file" class="md-nav__link">
    json file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preprocessing-directive-for-json" class="md-nav__link">
    preprocessing directive for json
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-expressions" class="md-nav__link">
    Query expressions
  </a>
  
    <nav class="md-nav" aria-label="Query expressions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-custom-source" class="md-nav__link">
    create a custom source
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union" class="md-nav__link">
    UNION
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert-into" class="md-nav__link">
    INSERT INTO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#left-join-and-join" class="md-nav__link">
    LEFT JOIN and JOIN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#firstseen" class="md-nav__link">
    firstSeen()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#split-and-slice-and-slicestr" class="md-nav__link">
    split() and slice() and slicestr()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#groupconcat_ws" class="md-nav__link">
    groupconcat_ws
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-custom-useragg" class="md-nav__link">
    create a custom user.agg.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_5" type="checkbox" id="__nav_5_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_5">
          Model
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Model" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_5">
          <span class="md-nav__icon md-icon"></span>
          Model
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Model/Interactions/" class="md-nav__link">
        Interactions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Model/Overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Model/Products/" class="md-nav__link">
        Products
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Model/Users/" class="md-nav__link">
        Users
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Other/Overlaps/" class="md-nav__link">
        Other
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Other
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Other" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Other
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Other/Data-Specification/" class="md-nav__link">
        Data Specification
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#create-sources" class="md-nav__link">
    Create sources
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#frontpage-columns" class="md-nav__link">
    Frontpage columns
  </a>
  
    <nav class="md-nav" aria-label="Frontpage columns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#name" class="md-nav__link">
    Name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cnf-version" class="md-nav__link">
    Cnf Version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#count" class="md-nav__link">
    Count
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tags" class="md-nav__link">
    Tags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers" class="md-nav__link">
    Drivers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sync" class="md-nav__link">
    Sync
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updated-at" class="md-nav__link">
    Updated At
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synced-at" class="md-nav__link">
    Synced At
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#top-menu" class="md-nav__link">
    Top Menu
  </a>
  
    <nav class="md-nav" aria-label="Top Menu">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delete" class="md-nav__link">
    Delete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tag" class="md-nav__link">
    Tag
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-sync-schedule" class="md-nav__link">
    Set sync schedule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#migrate" class="md-nav__link">
    Migrate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#truncate" class="md-nav__link">
    Truncate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sync_1" class="md-nav__link">
    Sync
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create" class="md-nav__link">
    Create
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#edit-a-source" class="md-nav__link">
    Edit a source
  </a>
  
    <nav class="md-nav" aria-label="Edit a source">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#settings" class="md-nav__link">
    Settings
  </a>
  
    <nav class="md-nav" aria-label="Settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#name_1" class="md-nav__link">
    Name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id-columns" class="md-nav__link">
    Id columns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runevery" class="md-nav__link">
    RunEvery
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comment" class="md-nav__link">
    Comment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge-filter" class="md-nav__link">
    Merge filter
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query" class="md-nav__link">
    Query
  </a>
  
    <nav class="md-nav" aria-label="Query">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#database-connection" class="md-nav__link">
    Database connection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load-saved-query" class="md-nav__link">
    Load saved query
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preprocessor-directives" class="md-nav__link">
    Preprocessor directives
  </a>
  
    <nav class="md-nav" aria-label="Preprocessor directives">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#xml-file" class="md-nav__link">
    xml file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-file" class="md-nav__link">
    json file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preprocessing-directive-for-json" class="md-nav__link">
    preprocessing directive for json
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-expressions" class="md-nav__link">
    Query expressions
  </a>
  
    <nav class="md-nav" aria-label="Query expressions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-custom-source" class="md-nav__link">
    create a custom source
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union" class="md-nav__link">
    UNION
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert-into" class="md-nav__link">
    INSERT INTO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#left-join-and-join" class="md-nav__link">
    LEFT JOIN and JOIN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#firstseen" class="md-nav__link">
    firstSeen()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#split-and-slice-and-slicestr" class="md-nav__link">
    split() and slice() and slicestr()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#groupconcat_ws" class="md-nav__link">
    groupconcat_ws
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-custom-useragg" class="md-nav__link">
    create a custom user.agg.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


  <h1>Sources</h1>

<h2 id="create-sources">Create sources</h2>
<p>When the <a href="../Import-Files/">data has been imported</a>, go to <code>Manage Data -&gt; Sources</code> and create a new source by clicking the purple plus sign as seen in the below image. </p>
<ol>
<li>Name the source <code>import_[source of data]_[type of data]</code> where <code>[source of data]</code> specifies where the data comes from (centra, voyado, etc), and the <code>[type of data]</code> specifies the data type (items, users, interactions, etc). </li>
</ol>
<p><img width="1050" alt="Screenshot 2022-05-10 at 10 53 48" src="https://user-images.githubusercontent.com/4352260/167589964-27e4a8fe-d3d0-4382-a696-21d759331cd9.png"></p>
<ol>
<li>Choose an identifier for the source using the <code>Id columns</code> field.  If the source you’re creating is for:<ul>
<li><strong>interactions</strong>: we want to identify each interaction through a user, an item and the time of the purchase, therefore choose user,ts,item under id columns and then press create.</li>
<li><strong>items</strong>: we want to identify each item by using an item id (often sku or variant). </li>
<li><strong>users</strong>: we want to identify each user by using a user id. </li>
</ul>
</li>
</ol>
<p>The fields <code>Comment</code> and <code>Merge Filter</code> can be left empty, and you can press <code>CREATE</code>. </p>
<ol>
<li>Choose database connection and create a <code>QUERY</code> 
If it’s a centra/voyado customer choose that option, if the files were uploaded manually, choose imports.</li>
</ol>
<p>You can now see the query stage, as standard <code>“SELECT * FROM `*`”</code> will show, if you press “EXECUTE PREVIEW SUMMARY” you will see all the imported files you can choose to gather data from. Copy the filename you want to use and enter that name in the query above, like <code>SELECT * FROM [ENTER FILENAME HERE]</code>.</p>
<p>The import file is now done, press sync and save to exit. </p>
<ol>
<li>Now repeat the "Create source"-step 2 but name the file <code>model_[source of data]_[type of data]</code> (the use same identifier as in the import file). <ul>
<li>In the <code>Choose database connection</code> now choose <code>source</code> instead, and press <code>execute preview summary</code>, now choose the import source file and edit the query to select from that, like "<code>SELECT * FROM ENTER_SOURCENAME_HERE</code>" and then press <code>Save and sync</code>.</li>
</ul>
</li>
</ol>
<h2 id="frontpage-columns">Frontpage columns</h2>
<p>See below an example image from source view, with a source named <code>transactions</code>.</p>
<p><img src="../../../../images/Menu/sources.png" width="921"/></p>
<p>Here is a short explanation of the columns (note that not all columns are shown in the above image):</p>
<h3 id="name">Name</h3>
<p>Name of source</p>
<h3 id="id">id</h3>
<p>Every source has an unique id which is used to show dependencies between sources.</p>
<h3 id="cnf-version">Cnf Version</h3>
<h3 id="count">Count</h3>
<p>Count describes how many rows the source have. There can only be 1 row for every unique key column. if there are multiple rows with the same key all but 1 is removed.</p>
<h3 id="tags">Tags</h3>
<p>You can tag a source to keep track of how it is used.</p>
<h3 id="drivers">Drivers</h3>
<p>The drivers show what driver is used and also if it is active (green) or inactive (red). If a source has multiple queries there will be multiple drivers, here you can see wich source is active and wich are not.</p>
<h3 id="sync">Sync</h3>
<p>You can set a daily sync for the source, for example <code>DailyAt:6</code>.</p>
<h3 id="dependencies">Dependencies</h3>
<p>Dependencies for a source show what other sources the are used to build up the source.  An example for this is 
<div class="highlight"><pre><span></span><code>SELECT * FROM Source1  
LEFT JOIN Source2 on Source2.id = Source1.id  
UNION  
SELECT * FROM Source3  
</code></pre></div>
This will show the id for source 1,2,3 in the Dependencies for the new source.</p>
<h3 id="updated-at">Updated At</h3>
<p>Shows how long ago the source was last modified.</p>
<h3 id="synced-at">Synced At</h3>
<p>Shows how long ago the source was last synced.</p>
<h2 id="top-menu">Top Menu</h2>
<p>In the source view there are also some funcationality that can be accessed using the icons in the top right corner.</p>
<p><img src="../../../../images/Menu/sources2.png" width="921"/></p>
<h3 id="delete">Delete</h3>
<p>Delete the selected source.</p>
<h3 id="tag">Tag</h3>
<p>Select a source, click Tag and write a new tag or select an old tag.</p>
<h3 id="set-sync-schedule">Set sync schedule</h3>
<p>Configure a daily data sync to update the source on a regular basis.</p>
<h3 id="migrate">Migrate</h3>
<h3 id="truncate">Truncate</h3>
<p>Truncate wipes the source of all data. This is usefull if you have changed key column for example because if you just sync the data the old data is not removed. 
[Note that some sources only read 1 week data at the time to save time, if you truc a source like this all historic data is removed wich is bad]</p>
<h3 id="sync_1">Sync</h3>
<p>Manually syncs the source.</p>
<h3 id="create">Create</h3>
<p>Creates a new source.</p>
<h2 id="edit-a-source">Edit a source</h2>
<p>When clicking a source, you find the edit mode by clicking the "pen" in the top right corner. This will open a view as can be seen in the image below. </p>
<p><img src="../../../../images/Menu/sources3.png" width="921"/></p>
<h3 id="settings">Settings</h3>
<h4 id="name_1">Name</h4>
<p>Just a name</p>
<h4 id="id-columns">Id columns</h4>
<p>The Id columns has to be choosen to be unique. if the id is not unique (the same id for many rows) only 1 row will be saved and all others are removed.<br />
For the interaction table the id has to contain user AND id or ts,item. The reason user has to be an id column is because when user is the first id column all interactions are sorted on user first. this lets you use expressions such as agg.i wich count number of interactions a user has made. if the interaction table is not sorted on user first the aggregation functions doesnt work.<br />
For multiple id columns they are sorted in the order they are written.
User,ts,item is sorted first on user, then on ts and lastly on item.  </p>
<p>SELECT CUSTOM COLUMNS is usefull if you want other names than the predefined such as SKU.</p>
<h4 id="runevery">RunEvery</h4>
<p>Set a sync</p>
<h4 id="comment">Comment</h4>
<h4 id="merge-filter">Merge filter</h4>
<p>lets you filter out your query before you save it.</p>
<p>A Merge filter discards everything that is not true before saving the table. For example if you add a query similar to <code>toFloat(ts) &gt; now()-100*24*3600</code>, then all timestamp (ts) data from later than 100 days will be discarded.</p>
<h3 id="overview">Overview</h3>
<p>Shows what is in the source currently</p>
<h3 id="query">Query</h3>
<h4 id="database-connection">Database connection</h4>
<p>Define the type of connection for the data to be added to the source.</p>
<h4 id="load-saved-query">Load saved query</h4>
<p>lets you reload previously run queries</p>
<h4 id="preprocessor-directives">Preprocessor directives</h4>
<h5 id="xml-file">xml file</h5>
<p>when importing data from a link such as product feed you need to add preprocessor directives to know how to read the file.<br />
<div class="highlight"><pre><span></span><code>SELECT * FROM `url:https://...xml`  
</code></pre></div>
[Note that you have to write <strong>url:</strong> before https://]  </p>
<p>start by writing<br />
<code>decoder=xml</code><br />
to show the file structure, in this case it looks like this.
<img alt="image" src="https://user-images.githubusercontent.com/102239423/169991270-10e97b4e-b5fd-4df8-968c-320119f9ee71.png" /></p>
<p><strong>decoder:</strong> describes what file format, xml, csv, json etc.<br />
<strong>root:</strong> navigates the file and shows where you want to read data.<br />
<strong>rowtag:</strong> selects the object.<br />
<strong>pluck:</strong> inside your rowtag you can have multiple data columns, pluck lets you choose wich you want to get.  </p>
<p>Below is one example with <code>root=feed.channel</code> and one example with <code>root=rss.channel</code>:</p>
<p><img width="543" alt="Screenshot 2022-06-10 at 08 26 05" src="https://user-images.githubusercontent.com/4352260/173004337-734dcc11-992c-4920-975b-3d87f5ad362d.png">
<img width="549" alt="Screenshot 2022-06-10 at 08 26 46" src="https://user-images.githubusercontent.com/4352260/173004348-827d98b1-e609-4d09-aa5f-63ce9034443e.png"></p>
<p>In the first image example, the resulting preprocessing directives to fetch the feed are:  </p>
<p><code>decoder=xml</code><br />
<code>root=rss.channel</code><br />
<code>rowtag=item</code><br />
<code>pluck=google_product_category,price</code><br />
resulting in this outcome
<img alt="image" src="https://user-images.githubusercontent.com/102239423/169994099-991016fc-cdb8-4e63-a60a-83726a1f7e87.png" /></p>
<h5 id="json-file">json file</h5>
<p>an example json file could look like:
<div class="highlight"><pre><span></span><code>[
    {
        &quot;id&quot;: &quot;&quot;,
        &quot;user_id&quot;: &quot;&quot;,
        &quot;username&quot;: &quot;&quot;
    },
    {
        &quot;id&quot;: &quot;&quot;,
        &quot;user_id&quot;: &quot;&quot;,
        &quot;username&quot;: &quot;&quot;
    }
]
</code></pre></div></p>
<div class="highlight"><pre><span></span><code>SELECT * FROM `url:https://...json`  
</code></pre></div>
<h5 id="preprocessing-directive-for-json">preprocessing directive for json</h5>
<p><code>decoder=json</code><br />
<code>json_prefix=[0]</code></p>
<h3 id="query-expressions">Query expressions</h3>
<p>You need to enclose variable names that contain other characters than letters and numbers with <code>backticks</code> <code></code>,<br />
this includes whitespace ' ', dot '.', etc...</p>
<h4 id="create-a-custom-source">create a custom source</h4>
<p>SELECT * FROM <code>raw: 
id,item
1,item1
2,item2</code>
this returns a table.</p>
<h4 id="union">UNION</h4>
<p>A UNION merges two data sources by including all unique rows from both. When making a union the columns need to have the same name and be in the same order
<div class="highlight"><pre><span></span><code>SELECT * FROM `table 1`
UNION
SELECT * FROM `table 2`
</code></pre></div>
if you have overlapping id rows in <code>table 1</code> and <code>table 2</code> the id in <code>table 1</code> will be saved and <code>table 2</code> will be discared.
ex. 
to try this, create a test source
<div class="highlight"><pre><span></span><code>select 
incr(1,50) AS id,
&#39;table 1&#39; AS item
from `&lt;RANDOM_SOURCE&gt;`

UNION
select 
incr(1,1) AS id,
&#39;table 2&#39; AS item
from `&lt;RANDOM_SOURCE&gt;`
</code></pre></div>
then create a new source 
<div class="highlight"><pre><span></span><code>SELECT * FROM `&lt;TEST_SOURCE&gt;`
</code></pre></div>
this will show that all overlapping ids will have item from <code>table 1</code>.</p>
<p>A UNION can also be suffixed by ALL, where UNION ALL will not discard duplicates, meaning much faster execution but leaves duplicate rows if they exist.</p>
<h4 id="insert-into">INSERT INTO</h4>
<p>insert into lets you create multiple tables in the same query that you can use to create a UNION or LEFT JOIN.
<div class="highlight"><pre><span></span><code>INSERT INTO &lt;table_name&gt;
SELECT * FROM `&lt;source_name&gt;`
;
</code></pre></div>
The <code>;</code> is needed to mark where the table end. 
When using the table you created with INSERT INTO you use the <table_name> not the <source_name>
ex.
<div class="highlight"><pre><span></span><code>LEFT JOIN &lt;table_name&gt; ON &lt;table_name&gt;.id = XXX.id
</code></pre></div></p>
<h4 id="left-join-and-join">LEFT JOIN and JOIN</h4>
<p>LEFT JOIN lets you append more columns to an existing table, while join only keeps the ones matching. See below a code example where you can change <code>left join</code> to <code>join</code> to see the effects.</p>
<p><div class="highlight"><pre><span></span><code>INSERT INTO countries SELECT * FROM `raw:
id,country
1,se
2,no
`;

INSERT INTO currencies SELECT * FROM `raw:
country,currency
se,sek
us,usd
`;


select * from countries
left join currencies ON countries.country = currencies.country
</code></pre></div>
<img width="382" alt="Screenshot 2022-09-29 at 13 59 46" src="https://user-images.githubusercontent.com/4352260/193025738-7c19e893-fb95-448e-9a61-8e6bc5e52b11.png"></p>
<p><img width="385" alt="Screenshot 2022-09-29 at 13 59 36" src="https://user-images.githubusercontent.com/4352260/193025736-ef6f50a2-76b4-424d-bee6-d3a39d0f41a3.png"></p>
<h4 id="firstseen">firstSeen()</h4>
<p>firstseen(<field>) saves only the first encountered row for </p>
<p>coalese</p>
<p>toFloat()</p>
<p>unixTimestamp()</p>
<h4 id="split-and-slice-and-slicestr">split() and slice() and slicestr()</h4>
<p>These expressions can be used to edit strings, see an example below:</p>
<div class="highlight"><pre><span></span><code>Insert into a
SELECT * FROM `raw:
a   b
1   ABCDE`
;

SELECT 
    a AS a,
    split(b,&#39;&#39;) AS step1,
    slice(split(b,&#39;&#39;),0,3) AS step2,
    replace(slice(split(b,&#39;&#39;),0,3),&#39;,&#39;,&#39;&#39;) AS step3,
    length(b),
    slicestr(b,1,2)
FROM a
</code></pre></div>
<p>The result will be:
<div class="highlight"><pre><span></span><code>a   step1        step2.     step3    length(b)    slicestr(b, 1, 2)
1   A,B,C,D,E.   A,B,C  ABC  5            BC
</code></pre></div></p>
<h4 id="groupconcat_ws">groupconcat_ws</h4>
<div class="highlight"><pre><span></span><code>Insert into a
SELECT * FROM `raw:
Id,user,ordernr,item,price
1,100,1,A,&quot;10SEK&quot;
2,100,1,B,&quot;20SEK&quot;
3,100,1,C,&quot;30SEK&quot;`
;
SELECT user, ordernr, groupconcat_ws(price, &#39;,&#39;) price_list FROM a
</code></pre></div>
<p>The result will be:
<div class="highlight"><pre><span></span><code>user    ordernr price_list
100 1   10SEK,20SEK,30SEK
</code></pre></div></p>
<h4 id="create-a-custom-useragg">create a custom user.agg.<field></h4>
<p>the datamodel creates aggregate functions such as user.agg.revenue.
to create one yourself do the following.
In the below example I create <code>user.agg.margin</code> similar to <code>user.agg.revenue</code></p>
<p><div class="highlight"><pre><span></span><code>--aggregates margins per user same as user.agg.revenue but with margin
INSERT INTO margin
SELECT
    user AS user,
    concat(&#39;&#39;,SUM(margin)) AS total_margin
FROM `s3 - transactions`;

SELECT 
UI.user AS user,
margin.total_margin AS total_margin,
UI.other fields...
FROM `user_import` AS UI

LEFT JOIN margin ON margin.user = UI.user
</code></pre></div>
Note that you need to add <code>concat('',)</code> to the sum expression.
this is because you cant LEFT JOIN a float. <code>concat('',)</code> converts it into a string.
<code>concat('',SUM(margin)) AS total_margin</code></p>

              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../Results/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Results" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Results
            </div>
          </div>
        </a>
      
      
        
        <a href="../../Model/Interactions/" class="md-footer__link md-footer__link--next" aria-label="Next: Interactions" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Interactions
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    <a href="https://www.infobaleen.com/" target="_blank" rel="noopener">
      Infobaleen
    </a>
    2022
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand"], "search": "../../../../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.0238f547.min.js"></script>
      
    
  </body>
</html>