{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to the documentation! table th:first-of-type { width: 33%; } table th:nth-of-type(2) { width: 33%; } table th:nth-of-type(3) { width: 33%; } table th:nth-of-type(4) { width: 30%; } Analytics Segmentations Recommendations Gain insights on your business from our interactive and customizable dashboards by diving deep into your trove of data. Learn what drives your new customers, find out what makes your customers churn, explore your clusters and segments and much more. Dashboards \u00bb Make powerful segmentations for your marketing campaigns and export your results directly to your CRM-system or a marketing tool like Facebook Ads or Google Ads. Target specific products and let our machine learning model segment users optimally according to products you want to sell and your campaign goals. Auto-targeting \u00bb Clustering \u00bb Use personalized product recommendations in your marketing to make your products relevant at all times. Add them on your landing page, in your checkout flow or use them to automate your email content. Create customizable API profiles with filters and rules based on your product meta data, and apply them to different use cases. Ex one for your landing page, one for your user browse sessions and one for your email content. Recommendations \u00bb","title":"Home"},{"location":"#_1","text":"","title":""},{"location":"Other/Data-Specification/","text":"Infobaleen - Data Specification A datamodel in Infobaleen is made up of three data tables. Each line in the interaction table is linked to a specific user and item in the item and user tables. classDiagram `Transaction data` --> Datamodel `Product data` --> Datamodel `User data` --> Datamodel Data encoding Data must be encoded as UTF-8 + RFC 4180 (see more info at https://tools.ietf.org/html/rfc4180 ). Below are some specifics regarding the cell and row formatting. Case Example Line break \\n Quotes must be escaped \u201c14\u201d\u201d TV\u201d Cell wrap with double if the value contains , or \\n \u201cHello, world\u201d Number, avoid space and comma. 12345678.9 Timestamp/date, use unix timestamp or formatted date string. 1591718519 or \u201c2020-03-17 15:01:02\u201d or \u201c2006-01-02T15:04:05-0700\u201d A valid example id,value,number 1,\"Hello, world!\",123.45 2,\"14\"\" TV\",123.45 Transaction data Provide a file containing transactional data between your products and users. Usually represents order rows. If necessary, you may provide an additional file with data that is associated with an order number. An example would be an order header containing shipping cost, payment fee etc. In this case, provide an order number in the transactional data, and use the order number as the unique identifier in the orders file. Field Data type Note id ID (required) Must uniquely identify a transaction/order row. user_id ID (required) Must uniquely identify a user. product_Id ID (required) Must uniquely identify a product. timestamp Timestamp (required) Timestamp at which the interaction occurred. revenue Number (Product price x quantity) Use sales ex VAT vat_percent Number margin Number discount Number Discount for all items in the row. currency String exchange_rate Number If you have sales in different currencies. order_status String order_number String quantity Number Number columns must be adjusted for quantity, ex the Revenue/Margin column must be equal to the Total Revenue/Margin for that interaction. cancelled_quantity Number returned_quantity Number coupons/campaigns String If multiple, use semicolon separated list: \u201cDiscountA;DiscountB\u201d payment_method String payment_price Number shipping_method String shipping_price Number ...< ANY > Number, String Additional metadata may be added that you find interesting to examine in our analytics. Product data Provide a file containing product (item) meta data. Make sure all product ids that are present in the transactions are also present in this file. Categorical data in hierarchical structure should be added as separate columns: category_1 , category_2 , etc. If a product can have multiple categories but without hierarchy, provide them as a semi-colon separated string: \u201ccategoryA;categoryC:categoryE\u201d . An example would be genres for a movie, as a movie can be associated with multiple genres in no particular order. Field Data type Note id ID (required) Must uniquely identify a product. title String A name that will be associated with the product. image_url String URL to product image. brand String in_stock Number Number of items in stock. supplier String price Number price_discounted Number Ex if there is a campaign present. product_url String URL if product recommendations are to be used. status String created Timestamp category_1 \u2026 String Use multiple columns if hierarchical structure. ...< ANY > Number, String Additional metadata may be added that you find interesting to examine in our analytics. User data Provide a file containing user meta data. Make sure all user ids that are present in the transactions are also present in this file. In order to have deletes propagate to our side, provide users with empty data on all fields except id or a \u201cis_deleted\u201d field that we will use to clear all metadata. Field Data type Note id ID (required) Must uniquely identify a user, same as in transactions. email String age Number birthdate Date May be used to extract age by platform city String country String market String gender String created Timestamp ...< ANY > Number, String Additional metadata may be added that you find interesting to examine in our analytics.","title":"Data Specification"},{"location":"Other/Data-Specification/#infobaleen-data-specification","text":"A datamodel in Infobaleen is made up of three data tables. Each line in the interaction table is linked to a specific user and item in the item and user tables. classDiagram `Transaction data` --> Datamodel `Product data` --> Datamodel `User data` --> Datamodel","title":"Infobaleen - Data Specification"},{"location":"Other/Data-Specification/#data-encoding","text":"Data must be encoded as UTF-8 + RFC 4180 (see more info at https://tools.ietf.org/html/rfc4180 ). Below are some specifics regarding the cell and row formatting. Case Example Line break \\n Quotes must be escaped \u201c14\u201d\u201d TV\u201d Cell wrap with double if the value contains , or \\n \u201cHello, world\u201d Number, avoid space and comma. 12345678.9 Timestamp/date, use unix timestamp or formatted date string. 1591718519 or \u201c2020-03-17 15:01:02\u201d or \u201c2006-01-02T15:04:05-0700\u201d A valid example id,value,number 1,\"Hello, world!\",123.45 2,\"14\"\" TV\",123.45","title":"Data encoding"},{"location":"Other/Data-Specification/#transaction-data","text":"Provide a file containing transactional data between your products and users. Usually represents order rows. If necessary, you may provide an additional file with data that is associated with an order number. An example would be an order header containing shipping cost, payment fee etc. In this case, provide an order number in the transactional data, and use the order number as the unique identifier in the orders file. Field Data type Note id ID (required) Must uniquely identify a transaction/order row. user_id ID (required) Must uniquely identify a user. product_Id ID (required) Must uniquely identify a product. timestamp Timestamp (required) Timestamp at which the interaction occurred. revenue Number (Product price x quantity) Use sales ex VAT vat_percent Number margin Number discount Number Discount for all items in the row. currency String exchange_rate Number If you have sales in different currencies. order_status String order_number String quantity Number Number columns must be adjusted for quantity, ex the Revenue/Margin column must be equal to the Total Revenue/Margin for that interaction. cancelled_quantity Number returned_quantity Number coupons/campaigns String If multiple, use semicolon separated list: \u201cDiscountA;DiscountB\u201d payment_method String payment_price Number shipping_method String shipping_price Number ...< ANY > Number, String Additional metadata may be added that you find interesting to examine in our analytics.","title":"Transaction data"},{"location":"Other/Data-Specification/#product-data","text":"Provide a file containing product (item) meta data. Make sure all product ids that are present in the transactions are also present in this file. Categorical data in hierarchical structure should be added as separate columns: category_1 , category_2 , etc. If a product can have multiple categories but without hierarchy, provide them as a semi-colon separated string: \u201ccategoryA;categoryC:categoryE\u201d . An example would be genres for a movie, as a movie can be associated with multiple genres in no particular order. Field Data type Note id ID (required) Must uniquely identify a product. title String A name that will be associated with the product. image_url String URL to product image. brand String in_stock Number Number of items in stock. supplier String price Number price_discounted Number Ex if there is a campaign present. product_url String URL if product recommendations are to be used. status String created Timestamp category_1 \u2026 String Use multiple columns if hierarchical structure. ...< ANY > Number, String Additional metadata may be added that you find interesting to examine in our analytics.","title":"Product data"},{"location":"Other/Data-Specification/#user-data","text":"Provide a file containing user meta data. Make sure all user ids that are present in the transactions are also present in this file. In order to have deletes propagate to our side, provide users with empty data on all fields except id or a \u201cis_deleted\u201d field that we will use to clear all metadata. Field Data type Note id ID (required) Must uniquely identify a user, same as in transactions. email String age Number birthdate Date May be used to extract age by platform city String country String market String gender String created Timestamp ...< ANY > Number, String Additional metadata may be added that you find interesting to examine in our analytics.","title":"User data"},{"location":"Platform/Analytics/Customer-Insights/","text":"Customer Insights - Propensity to Purchase The Propensity to Purchase-model classifies customers by their likelihood to purchase in the future - based on historical data. This insight can be integrated into marketing and sales strategies. To understand the chart here is an explanation: Each customer is grouped based on number of orders (O = 1, O = 2, O = 3, etc), and the chart displays a colored line for each group. For each group the propensity (y-axis) specifies the probability of another purchase for a customer within the group For an example, see the group hovered in the below image. Here we can see that it's 24,3% probability that a customer that has one order and has been inactive 1 month, will perform another purchase before the specified inactive period (6 months) Below the image you can add more groups with customers that have more orders (in the image we show groups with customers having 1-5 orders). You can also edit the parameter that specifies the number of months until user becomes inactive. By specifying this to 1 month you can get an idea of how money customers will move from having 1 order to 2 orders, from 2 orders to 3 orders, etc within the coming month. The \"Months of inactivity to show\"-bar only changes the number of months shown in the chart.","title":"Customer Insights"},{"location":"Platform/Analytics/Customer-Insights/#customer-insights-propensity-to-purchase","text":"The Propensity to Purchase-model classifies customers by their likelihood to purchase in the future - based on historical data. This insight can be integrated into marketing and sales strategies. To understand the chart here is an explanation: Each customer is grouped based on number of orders (O = 1, O = 2, O = 3, etc), and the chart displays a colored line for each group. For each group the propensity (y-axis) specifies the probability of another purchase for a customer within the group For an example, see the group hovered in the below image. Here we can see that it's 24,3% probability that a customer that has one order and has been inactive 1 month, will perform another purchase before the specified inactive period (6 months) Below the image you can add more groups with customers that have more orders (in the image we show groups with customers having 1-5 orders). You can also edit the parameter that specifies the number of months until user becomes inactive. By specifying this to 1 month you can get an idea of how money customers will move from having 1 order to 2 orders, from 2 orders to 3 orders, etc within the coming month. The \"Months of inactivity to show\"-bar only changes the number of months shown in the chart.","title":"Customer Insights - Propensity to Purchase"},{"location":"Platform/Analytics/Dashboards/","text":"Create dashboards You can customize dashboards to visualize various information and results based on your data. Dashboards can be created by clicking the + icon in the dropdown menu. When you create a dashboard you are asked for a name, this name can be changed later. Show Advanced Settings Select Role : One of interaction , user , and item . Defines what data the dashboard should be based on, and in most cases it should be interaction . Select number of columns : Specifies the number of columns used in the grid system to fit dashboards. The default value is used in most cases. Import config : This field can be used if you want to copy or export a dashboard from another platform. It is left blank in most cases. Add element To add an element to your dashboard, click the Add element seen below. Note! After adding elements or editing the dashboard, remember to click Save in the top right corner. Metric A metric is a single number, wich means that you can not show a field in a metric element (a field is an array of metrics). you can convert a field into a metric by writing an expression ex. SUM(field) this returns a metric. Bar Chart A bar chart shows categorical data with rectangular bars indicating the distributions of the data , in the picture below, we for example see amount of unique customers per country , the bar charts can be used to adapt the dashboard to show only data from one specific country. Simply press the country you want to see information about, and the dashboard will update accordingly. Line Chart A line chart plots a graph with data points connected to a chosen metric, example below for example shows revenue over time. Hovering over the line chart data points, the revenue for that time will show. Show More Info Default :Under default you can choose what values you want to include in your line chart, you can also select if you want the view to be from day to week, month etc. The `Format` selection lets you choose how many decimals you want, if you want the values to be shown as a percentage (%). The `Limit` lets you decide how many data points you want to show (the dots marked on the line). Style Here you can change the appearance of the line chart in the dashboards, feel free to test how the different margin settings affect the look of the line chart! By changing the `Title` or the `Sub title` no values will be changed, by changing it the chosen values only gets an alias. In the Advanced tab you can Select group key by adding a field in the select group key the line chart will show multiple lines where each line represents a category in the selected field. This function should be combined with a bar chart where you can create a filter for the selected field. by filtering out categories in the barchart the line chart will show the remaining categories. By filtering out a category in the bar chart the line representing this category is removed from the line chart. Histogram A histogram is a graphical representation that shows data in specified ranges as vertical bins. It's similar to a bar chart. Date filter The Date filter lets you adapt your dashboards to only show data for a chosen period of time, there are some premade limits, for example last week, last year etc. These can be found and chosen on the top of the date filter box after pressing it, you can also select a specified range of days by using the calendar. Range filter The Range filter allows you to only show data in the dashboards where a chosen value is within the chosen limit, for example if you only want to show data for items with prices between 100sek to 200sek. Filter The Filter can be used to only show one category of chosen metric, and update the dashboard accordingly. Metric selector In the different elements added to your dashboard, for example a bar chart or line chart, there's the opportunity to select *metric* , if you then add a Metric selector and choose a metric, all the elements where *metric* has been chosen, will be updated to match the chosen metric in the Metric selector . Using this will allow quicker changes of the data shown, as you can use the metric selector instead of manually changing the other elements. Alluvial Chart An alluvial chart can be described as a flow diagram that represents changes in structures over time, for us this is mostly used to represent how segments of customers are changed over time, going from new, to lapsed (lost) customers. (There's a Color scale option under Style where the colors can be changed to blue/green/yellow/red instead of different shades of blue). Example of alluvial chart shown below. Table This element adds a table to the dashboard, if the table gets to wide there's a scroll bar furthest down in the table allowing horizontal scrolling. The table can be sorted by pressing on the value/text you want to sort by. Under Style in the edit screen of a table, there's an opportunity to add a Background bar which visualize how large/small the different values in the table are in comparison to the others. Pivot A pivot table is used to visualize patterns and trends in large amounts of data, it can for example be used to show amount of lapsed customers per order cohort shown in the example below. Image grid The image grid shows pictures of products in a dashboard. This element requires product data to be present in the dashboard. Segments Lets you show data for only a chosen segment, these segments can be created under the Segmentations part of the platform. Categories Similar to bar chart, categories let's you choose what category to show data for, when the data is several categories in one cell, for example Color = [red;blue] where red and blue are not correlated. Text Content The text content element is the most used element. It's basically just text that can be adapted through either markdown or HTML.","title":"Dashboards"},{"location":"Platform/Analytics/Dashboards/#create-dashboards","text":"You can customize dashboards to visualize various information and results based on your data. Dashboards can be created by clicking the + icon in the dropdown menu. When you create a dashboard you are asked for a name, this name can be changed later. Show Advanced Settings Select Role : One of interaction , user , and item . Defines what data the dashboard should be based on, and in most cases it should be interaction . Select number of columns : Specifies the number of columns used in the grid system to fit dashboards. The default value is used in most cases. Import config : This field can be used if you want to copy or export a dashboard from another platform. It is left blank in most cases.","title":"Create dashboards"},{"location":"Platform/Analytics/Dashboards/#add-element","text":"To add an element to your dashboard, click the Add element seen below. Note! After adding elements or editing the dashboard, remember to click Save in the top right corner.","title":"Add element"},{"location":"Platform/Analytics/Dashboards/#metric","text":"A metric is a single number, wich means that you can not show a field in a metric element (a field is an array of metrics). you can convert a field into a metric by writing an expression ex. SUM(field) this returns a metric.","title":"Metric"},{"location":"Platform/Analytics/Dashboards/#bar-chart","text":"A bar chart shows categorical data with rectangular bars indicating the distributions of the data , in the picture below, we for example see amount of unique customers per country , the bar charts can be used to adapt the dashboard to show only data from one specific country. Simply press the country you want to see information about, and the dashboard will update accordingly.","title":"Bar Chart"},{"location":"Platform/Analytics/Dashboards/#line-chart","text":"A line chart plots a graph with data points connected to a chosen metric, example below for example shows revenue over time. Hovering over the line chart data points, the revenue for that time will show. Show More Info Default :Under default you can choose what values you want to include in your line chart, you can also select if you want the view to be from day to week, month etc. The `Format` selection lets you choose how many decimals you want, if you want the values to be shown as a percentage (%). The `Limit` lets you decide how many data points you want to show (the dots marked on the line). Style Here you can change the appearance of the line chart in the dashboards, feel free to test how the different margin settings affect the look of the line chart! By changing the `Title` or the `Sub title` no values will be changed, by changing it the chosen values only gets an alias. In the Advanced tab you can Select group key by adding a field in the select group key the line chart will show multiple lines where each line represents a category in the selected field. This function should be combined with a bar chart where you can create a filter for the selected field. by filtering out categories in the barchart the line chart will show the remaining categories. By filtering out a category in the bar chart the line representing this category is removed from the line chart.","title":"Line Chart"},{"location":"Platform/Analytics/Dashboards/#_1","text":"","title":""},{"location":"Platform/Analytics/Dashboards/#histogram","text":"A histogram is a graphical representation that shows data in specified ranges as vertical bins. It's similar to a bar chart.","title":"Histogram"},{"location":"Platform/Analytics/Dashboards/#date-filter","text":"The Date filter lets you adapt your dashboards to only show data for a chosen period of time, there are some premade limits, for example last week, last year etc. These can be found and chosen on the top of the date filter box after pressing it, you can also select a specified range of days by using the calendar.","title":"Date filter"},{"location":"Platform/Analytics/Dashboards/#range-filter","text":"The Range filter allows you to only show data in the dashboards where a chosen value is within the chosen limit, for example if you only want to show data for items with prices between 100sek to 200sek.","title":"Range filter"},{"location":"Platform/Analytics/Dashboards/#filter","text":"The Filter can be used to only show one category of chosen metric, and update the dashboard accordingly.","title":"Filter"},{"location":"Platform/Analytics/Dashboards/#metric-selector","text":"In the different elements added to your dashboard, for example a bar chart or line chart, there's the opportunity to select *metric* , if you then add a Metric selector and choose a metric, all the elements where *metric* has been chosen, will be updated to match the chosen metric in the Metric selector . Using this will allow quicker changes of the data shown, as you can use the metric selector instead of manually changing the other elements.","title":"Metric selector"},{"location":"Platform/Analytics/Dashboards/#alluvial-chart","text":"An alluvial chart can be described as a flow diagram that represents changes in structures over time, for us this is mostly used to represent how segments of customers are changed over time, going from new, to lapsed (lost) customers. (There's a Color scale option under Style where the colors can be changed to blue/green/yellow/red instead of different shades of blue). Example of alluvial chart shown below.","title":"Alluvial Chart"},{"location":"Platform/Analytics/Dashboards/#table","text":"This element adds a table to the dashboard, if the table gets to wide there's a scroll bar furthest down in the table allowing horizontal scrolling. The table can be sorted by pressing on the value/text you want to sort by. Under Style in the edit screen of a table, there's an opportunity to add a Background bar which visualize how large/small the different values in the table are in comparison to the others.","title":"Table"},{"location":"Platform/Analytics/Dashboards/#pivot","text":"A pivot table is used to visualize patterns and trends in large amounts of data, it can for example be used to show amount of lapsed customers per order cohort shown in the example below.","title":"Pivot"},{"location":"Platform/Analytics/Dashboards/#image-grid","text":"The image grid shows pictures of products in a dashboard. This element requires product data to be present in the dashboard.","title":"Image grid"},{"location":"Platform/Analytics/Dashboards/#segments","text":"Lets you show data for only a chosen segment, these segments can be created under the Segmentations part of the platform.","title":"Segments"},{"location":"Platform/Analytics/Dashboards/#categories","text":"Similar to bar chart, categories let's you choose what category to show data for, when the data is several categories in one cell, for example Color = [red;blue] where red and blue are not correlated.","title":"Categories"},{"location":"Platform/Analytics/Dashboards/#text-content","text":"The text content element is the most used element. It's basically just text that can be adapted through either markdown or HTML.","title":"Text Content"},{"location":"Platform/Menu/Account/API-Keys/","text":"API Keys API keys are primarily used for accessing the recommendation API to fetch product recommendations to your website or your email campaigns. Test your API request Create a new API key Open ubuntu Copy from your API key curl 'https://`PLATFORM`.infobaleen.com/api/v1/api-profiles/`473`/recommendations/user-to-items' -d '{\"Limit\":3,\"User\":\"`X`\"}' -H 'Authorization: `KEY`' Use Rex in the user table under Model > Users and replace X in the curl to verify you get the same results as the recommendations for that user NOTE: If you try to use the curl command in Windows it will not work note the difference from the curl above with \\ and .exe curl`.exe` 'https://PLATFORM.infobaleen.com/api/v1/api-profiles/473/recommendations/user-to-items' -d '{`\\`\"Limit`\\`\":3,`\\`\"User`\\`\":`\\`\"X`\\`\"}' -H 'Authorization: KEY'","title":"API Keys"},{"location":"Platform/Menu/Account/API-Keys/#api-keys","text":"API keys are primarily used for accessing the recommendation API to fetch product recommendations to your website or your email campaigns.","title":"API Keys"},{"location":"Platform/Menu/Account/API-Keys/#test-your-api-request","text":"Create a new API key Open ubuntu Copy from your API key curl 'https://`PLATFORM`.infobaleen.com/api/v1/api-profiles/`473`/recommendations/user-to-items' -d '{\"Limit\":3,\"User\":\"`X`\"}' -H 'Authorization: `KEY`' Use Rex in the user table under Model > Users and replace X in the curl to verify you get the same results as the recommendations for that user NOTE: If you try to use the curl command in Windows it will not work note the difference from the curl above with \\ and .exe curl`.exe` 'https://PLATFORM.infobaleen.com/api/v1/api-profiles/473/recommendations/user-to-items' -d '{`\\`\"Limit`\\`\":3,`\\`\"User`\\`\":`\\`\"X`\\`\"}' -H 'Authorization: KEY'","title":"Test your API request"},{"location":"Platform/Menu/Account/Logout/","text":"Logout Press to logout from the platform.","title":"Logout"},{"location":"Platform/Menu/Account/Logout/#logout","text":"Press to logout from the platform.","title":"Logout"},{"location":"Platform/Menu/Account/Users/","text":"Users Here you can add, or manage the persons with access to the platform, you can also see how long it was since someone visited the platform. NOTE: giving permission to only one/several data models is still under development and does not restrict as it should","title":"Users"},{"location":"Platform/Menu/Account/Users/#users","text":"Here you can add, or manage the persons with access to the platform, you can also see how long it was since someone visited the platform.","title":"Users"},{"location":"Platform/Menu/Account/Users/#note-giving-permission-to-only-oneseveral-data-models-is-still-under-development-and-does-not-restrict-as-it-should","text":"","title":"NOTE: giving permission to only one/several data models is still under development and does not restrict as it should"},{"location":"Platform/Menu/Admin/Clear-CH-chache/","text":"Clear CH chache","title":"Clear CH chache"},{"location":"Platform/Menu/Admin/Clear-CH-chache/#clear-ch-chache","text":"","title":"Clear CH chache"},{"location":"Platform/Menu/Admin/Configuration/","text":"Configuration In the configuration page you can add connections to data, for example databases, and you can also add connections to integrations that you want to export data to, for example an email service. Databases A database configuration is set up to fetch data into the platform, and it can be a connection to something like a data lake or a mysql server. It can look something like in the image below. Note that a parameter like ${db-user} needs to be added in the Secrets page. Integrations An integration configuration is set up to export data from the platform. It can look something like the facebook-export in the image below (emails are exported to Facebook). Note that a parameter like ${fb-token} needs to be added in the Secrets page.","title":"Configuration"},{"location":"Platform/Menu/Admin/Configuration/#configuration","text":"In the configuration page you can add connections to data, for example databases, and you can also add connections to integrations that you want to export data to, for example an email service.","title":"Configuration"},{"location":"Platform/Menu/Admin/Configuration/#databases","text":"A database configuration is set up to fetch data into the platform, and it can be a connection to something like a data lake or a mysql server. It can look something like in the image below. Note that a parameter like ${db-user} needs to be added in the Secrets page.","title":"Databases"},{"location":"Platform/Menu/Admin/Configuration/#integrations","text":"An integration configuration is set up to export data from the platform. It can look something like the facebook-export in the image below (emails are exported to Facebook). Note that a parameter like ${fb-token} needs to be added in the Secrets page.","title":"Integrations"},{"location":"Platform/Menu/Admin/Connections/","text":"Connections Shows the latest connections to the platform.","title":"Connections"},{"location":"Platform/Menu/Admin/Connections/#connections","text":"Shows the latest connections to the platform.","title":"Connections"},{"location":"Platform/Menu/Admin/Events/","text":"Events The events page lists all events taking place in the platform. The events include various things like source and data model updates as well as errors. The events page can also be reached with the clock icon in the top right corner.","title":"Events"},{"location":"Platform/Menu/Admin/Events/#events","text":"The events page lists all events taking place in the platform. The events include various things like source and data model updates as well as errors. The events page can also be reached with the clock icon in the top right corner.","title":"Events"},{"location":"Platform/Menu/Admin/Secrets/","text":"Secrets A secret can be seen as a password we want to hide, but use an alias for. An example of a secret is the API key we need to receive data from a data lake or similar. When creating a secret you need two things: * Label : the name of the secret * Secret : an API key or similar that we want to store, but that should not be visible.","title":"Secrets"},{"location":"Platform/Menu/Admin/Secrets/#secrets","text":"A secret can be seen as a password we want to hide, but use an alias for. An example of a secret is the API key we need to receive data from a data lake or similar. When creating a secret you need two things: * Label : the name of the secret * Secret : an API key or similar that we want to store, but that should not be visible.","title":"Secrets"},{"location":"Platform/Menu/Documentation/Agent/","text":"Agent: Filesystem query helper functions The agent supports a powerful query language for CSV files. Below are available helper functions and some practical examples that might be useful when setting up your sources. Operators and Functions Show more information `x LIKE format` `x IN(a,b,...)` `a OR b` `a AND b` `a = b` `a < b` `a > b` `a < = b` `a >= b` `a < > b` `multiIf(cond1,val1,...,defaultVal)` Ex: `multiIf(a > 1, 'a>1', 'a < =1')` `sleep(millisec)` Numerical Show more information `abs(x)` `floor(x)` `ceil(x)` `round(x)` `least(a,b)` `greatest(a,b)` Time (uses go's time formatting: eg. 2006-01-02 15:04:05) unixTimestamp(x [,format]) Ex: unixTimestamp('2015-01-01', '2006-01-02') => 1420070400 fromUnixtime(x [,format]) Ex: fromUnixTime(1420070400, '2006-01-02') => 2015-01-01 now() Ex: now() => 1571038684 String sluggify(x) Ex: sluggify('HelloWorld') => hello-world queryescape(x) QueryEscape escapes the string so it can be safely placed inside a URL query. match(pattern,name) (uses go's path.Match ) slice(x, start, stop, delimiter) Ex: slice('a-b-c', 0, 1, '-') => a sort(x,delimiter) Ex: sort('c-a-b') => a-b-c reverse(x, delimiter) Ex: reverse('abc', '') => cba , reverse('a-b-c') => c-b-a concatWs(delimiter,xs...) Ex: concatWs('-', 'a', 'b') => a-b coalesce(xs...) Ex: coalesce('', 'fallback') => fallback concat(xs...) Ex: concat('a', 'b') => ab replace(x,old,new) Ex: replace('foobar', 'bar', 'baz') => foobaz lower(x) upper(x) length(x) JSON pickJson(x, fields...) Ex: pickJson('{\"foo\":1, \"bar\":2, \"baz\":3}', 'foo', 'bar') => {\"foo\":1, \"bar\":2} Hash/rand rand() randInt() randInt(x) md5(x) xxHash63(x) xxHash64(x) identity(x) Ex: identity('a') => a File Details size() path() modifiedAt() depth() Special analyse() Anlayse column data. Ex: select analyse(price) from ... => {\"CountNum\":431359,\"CountEmpty\":0,\"CountString\":0,\"Sum\":555691303,\"Average\":1288.2339364285353,\"Min\":1,\"Max\":618993.5625} Join Inner joins are supported, but limited to only one joined table. The join must be written in the following format. Note that joins must load the secondary table data into RAM, so use this feature wisely. SELECT *, u.* from `transaction.csv` t JOIN `users.csv` u ON t.user_id = u.id Note that when referring to the joined table in the select , you must use an alias, but not for the from file. Sub queries Support for sub queries. Since the join support is limited, this is the typical use case for using sub queries SELECT * from `transactions.csv` WHERE user_id IN (SELECT id FROM `users.csv`) t Practical Examples Convert date to unix timestamp Uploaded interaction data requires a column with unix timestamp data, making this function useful. See different examples below depending on date format (go date format). See [https://yourbasic.org/golang/format-parse-string-time-date-example/] unix_timestamp(ts_string,<FORMAT>) unix_timestamp(ts_string,\"2006-01-02 15:04:05\") unix_timestamp(ts_string,\"2006-01-02T15:04:05Z\") Example: Age from time string round((now() - unix_timestamp(birth_year,\"2006-01-02\")) / (60 * 60 * 24 * 365)) as age String concatenation concat(title, '(', author, ', ', year, ')') as displayName Example: Building image urls concat('/api/v1/image?w=300&h=200&label=', queryEscape(english_title)) as dummy_image Multi if Example: Build filter variables For item id's that you want to exclude, build a variable and then filter on it in the data model setup. multiIf(_id IN (123, 456, 789) OR category_4='Candy', 1, 0) as is_irrelevant Example: Name from id multiIf( store_id = \"b92a0b68-3b4b-4fba-8711-a69100e940e9\",\"Ume\u00e5\", store_id = \"48292bda-f26c-428e-8de5-a69100e940e9\",\"G\u00f6teborg\", store_id = \"8d46721c-2368-480b-913a-a69100e940e9\",\"Stockholm\", 'unknown_store') as store,","title":"Agent"},{"location":"Platform/Menu/Documentation/Agent/#agent-filesystem-query-helper-functions","text":"The agent supports a powerful query language for CSV files. Below are available helper functions and some practical examples that might be useful when setting up your sources.","title":"Agent: Filesystem query helper functions"},{"location":"Platform/Menu/Documentation/Agent/#operators-and-functions","text":"Show more information `x LIKE format` `x IN(a,b,...)` `a OR b` `a AND b` `a = b` `a < b` `a > b` `a < = b` `a >= b` `a < > b` `multiIf(cond1,val1,...,defaultVal)` Ex: `multiIf(a > 1, 'a>1', 'a < =1')` `sleep(millisec)`","title":"Operators and Functions"},{"location":"Platform/Menu/Documentation/Agent/#numerical","text":"Show more information `abs(x)` `floor(x)` `ceil(x)` `round(x)` `least(a,b)` `greatest(a,b)`","title":"Numerical"},{"location":"Platform/Menu/Documentation/Agent/#time-uses-gos-time-formatting-eg-2006-01-02-150405","text":"unixTimestamp(x [,format]) Ex: unixTimestamp('2015-01-01', '2006-01-02') => 1420070400 fromUnixtime(x [,format]) Ex: fromUnixTime(1420070400, '2006-01-02') => 2015-01-01 now() Ex: now() => 1571038684","title":"Time (uses go's time formatting: eg. 2006-01-02 15:04:05)"},{"location":"Platform/Menu/Documentation/Agent/#string","text":"sluggify(x) Ex: sluggify('HelloWorld') => hello-world queryescape(x) QueryEscape escapes the string so it can be safely placed inside a URL query. match(pattern,name) (uses go's path.Match ) slice(x, start, stop, delimiter) Ex: slice('a-b-c', 0, 1, '-') => a sort(x,delimiter) Ex: sort('c-a-b') => a-b-c reverse(x, delimiter) Ex: reverse('abc', '') => cba , reverse('a-b-c') => c-b-a concatWs(delimiter,xs...) Ex: concatWs('-', 'a', 'b') => a-b coalesce(xs...) Ex: coalesce('', 'fallback') => fallback concat(xs...) Ex: concat('a', 'b') => ab replace(x,old,new) Ex: replace('foobar', 'bar', 'baz') => foobaz lower(x) upper(x) length(x)","title":"String"},{"location":"Platform/Menu/Documentation/Agent/#json","text":"pickJson(x, fields...) Ex: pickJson('{\"foo\":1, \"bar\":2, \"baz\":3}', 'foo', 'bar') => {\"foo\":1, \"bar\":2}","title":"JSON"},{"location":"Platform/Menu/Documentation/Agent/#hashrand","text":"rand() randInt() randInt(x) md5(x) xxHash63(x) xxHash64(x) identity(x) Ex: identity('a') => a","title":"Hash/rand"},{"location":"Platform/Menu/Documentation/Agent/#file-details","text":"size() path() modifiedAt() depth()","title":"File Details"},{"location":"Platform/Menu/Documentation/Agent/#special","text":"analyse() Anlayse column data. Ex: select analyse(price) from ... => {\"CountNum\":431359,\"CountEmpty\":0,\"CountString\":0,\"Sum\":555691303,\"Average\":1288.2339364285353,\"Min\":1,\"Max\":618993.5625}","title":"Special"},{"location":"Platform/Menu/Documentation/Agent/#join","text":"Inner joins are supported, but limited to only one joined table. The join must be written in the following format. Note that joins must load the secondary table data into RAM, so use this feature wisely. SELECT *, u.* from `transaction.csv` t JOIN `users.csv` u ON t.user_id = u.id Note that when referring to the joined table in the select , you must use an alias, but not for the from file.","title":"Join"},{"location":"Platform/Menu/Documentation/Agent/#sub-queries","text":"Support for sub queries. Since the join support is limited, this is the typical use case for using sub queries SELECT * from `transactions.csv` WHERE user_id IN (SELECT id FROM `users.csv`) t","title":"Sub queries"},{"location":"Platform/Menu/Documentation/Agent/#practical-examples","text":"","title":"Practical Examples"},{"location":"Platform/Menu/Documentation/Agent/#convert-date-to-unix-timestamp","text":"Uploaded interaction data requires a column with unix timestamp data, making this function useful. See different examples below depending on date format (go date format). See [https://yourbasic.org/golang/format-parse-string-time-date-example/] unix_timestamp(ts_string,<FORMAT>) unix_timestamp(ts_string,\"2006-01-02 15:04:05\") unix_timestamp(ts_string,\"2006-01-02T15:04:05Z\")","title":"Convert date to unix timestamp"},{"location":"Platform/Menu/Documentation/Agent/#example-age-from-time-string","text":"round((now() - unix_timestamp(birth_year,\"2006-01-02\")) / (60 * 60 * 24 * 365)) as age","title":"Example: Age from time string"},{"location":"Platform/Menu/Documentation/Agent/#string-concatenation","text":"concat(title, '(', author, ', ', year, ')') as displayName","title":"String concatenation"},{"location":"Platform/Menu/Documentation/Agent/#example-building-image-urls","text":"concat('/api/v1/image?w=300&h=200&label=', queryEscape(english_title)) as dummy_image","title":"Example: Building image urls"},{"location":"Platform/Menu/Documentation/Agent/#multi-if","text":"","title":"Multi if"},{"location":"Platform/Menu/Documentation/Agent/#example-build-filter-variables","text":"For item id's that you want to exclude, build a variable and then filter on it in the data model setup. multiIf(_id IN (123, 456, 789) OR category_4='Candy', 1, 0) as is_irrelevant","title":"Example: Build filter variables"},{"location":"Platform/Menu/Documentation/Agent/#example-name-from-id","text":"multiIf( store_id = \"b92a0b68-3b4b-4fba-8711-a69100e940e9\",\"Ume\u00e5\", store_id = \"48292bda-f26c-428e-8de5-a69100e940e9\",\"G\u00f6teborg\", store_id = \"8d46721c-2368-480b-913a-a69100e940e9\",\"Stockholm\", 'unknown_store') as store,","title":"Example: Name from id"},{"location":"Platform/Menu/Documentation/New-Issue/","text":"New issue If you've found something not working properly an issue can be created. If you have permissions, the link will take you to Github where the issue will be addressed. Fill in as much information as you can about the problem NOTE: If this doesn't work, please contact us and let us know about the issue/problem/bug that you found on our platform and we will address it as fast as possible.","title":"New Issue"},{"location":"Platform/Menu/Documentation/New-Issue/#new-issue","text":"If you've found something not working properly an issue can be created. If you have permissions, the link will take you to Github where the issue will be addressed. Fill in as much information as you can about the problem","title":"New issue"},{"location":"Platform/Menu/Documentation/New-Issue/#note-if-this-doesnt-work-please-contact-us-and-let-us-know-about-the-issueproblembug-that-you-found-on-our-platform-and-we-will-address-it-as-fast-as-possible","text":"","title":"NOTE: If this doesn't work, please contact us and let us know about the issue/problem/bug that you found on our platform and we will address it as fast as possible."},{"location":"Platform/Menu/Documentation/Recommendations/","text":"Recommendations - API Documentation Authorization Requests are authenticated and authorized with API Keys. API keys can be managed from the application menu Account / Api keys . When sending a request, the API key is provided using the Authorization header. Recommendations Item recommendations from a data model are provided by the API in two ways, given a user (/user-to-items) or from a list of items (/items-to-items). User recommendations (user-to-items) User-to-items recommendations can be used to generate content for user landing pages, email marketing and similar. Given a user id, a list of recommended items is returned. POST /api/v1/data-models/<id>/recommendations/user-to-items Request parameters (JSON body) Input parameters Parameter Type Description User string User id to fetch item recommendations for Items array of strings Item IDs to build the recommendations from MinInteractionTs int Min timestamp for interactions to base the recommendations on MaxInteractions int Pick orders until MaxInteractions interactions are included MaxOrders int Pick orders until MaxOrders orders are included InteractionFilter SQL To select from history based on SQL query Persona Object \"{\"gender\": \"Female\", \"country_code\": \"SE\"}\" Logical parameters Parameter Type Description TrendFactor float Value between 0 and 1. 0 is used to base recommendations on similarity only, and 1 weights the recommendations on the current trend/popularity. Default is 1. Recurring boolean Allow recommending items already consumed by the user. Default is false. AllowedItems array of item ids Only items in AllowedItems is returned in the response ForcedItems array of item ids All items in ForcedItems is returned in the response BlockedItems array of item ids No items in the BlockedItems is returned in the response Candidates int number of items to consider. Default to all available items. Can be used for faster calculations. ItemFilterExpression SQL \"price>100\" ItemBoostExpression SQL \"toFloat(margin)\" Search string Experimental Full-text-search. Filter and boost based on search string. FieldLimits array of objects Ex: [{\"Field\":\"name\", \"Limit\": 2}] makes sure to not return more than 2 items of the same color. Context See example [{\"Name\":\"ageLimit\", \"FloatValue\":11},{\"Name\": \"genres\", \"ArrayValues\": \"action,thriller\"}, {\"Name\": \"gender\", \"StringValue\": \"female\"},{\"Name\": \"ages\", \"Field\": \"AgeLimitSv\", \"Option\": \"last\"}] Output parameters Parameter Type Description Shuffled bool shuffle recommendations StrictAfterFieldLimitCheck bool Return error if we can not find Limit valid items after FieldLimits BestEffort bool Return all valid items even if it is less than Limit Format string Response format/encoding, available options: json , og Columns array of strings Meta data columns to include in the response Limit integer Maximum number of items returned, default=0 Offset integer Items to skip cURL example curl -X POST ${IB_API_URL}/api/v1/data-models/<id>/recommendations/user-to-items \\ -H \"Authorization: ${IB_API_KEY}\" \\ -d '{\"User\": \"123\", \"Limit\": 10, \"Recurring\": false}' Response The response contains the top recommended items ordered according to the relevance score. The item object contains Id and all meta-data fields that is specified in the data-model configuration. [ {\"Id\":\"7942856970334767135\", ...}, {\"Id\":\"9136495236170061780\", ...}, ... ]","title":"Recommendations API"},{"location":"Platform/Menu/Documentation/Recommendations/#recommendations-api-documentation","text":"","title":"Recommendations - API Documentation"},{"location":"Platform/Menu/Documentation/Recommendations/#authorization","text":"Requests are authenticated and authorized with API Keys. API keys can be managed from the application menu Account / Api keys . When sending a request, the API key is provided using the Authorization header.","title":"Authorization"},{"location":"Platform/Menu/Documentation/Recommendations/#recommendations","text":"Item recommendations from a data model are provided by the API in two ways, given a user (/user-to-items) or from a list of items (/items-to-items).","title":"Recommendations"},{"location":"Platform/Menu/Documentation/Recommendations/#user-recommendations-user-to-items","text":"User-to-items recommendations can be used to generate content for user landing pages, email marketing and similar. Given a user id, a list of recommended items is returned. POST /api/v1/data-models/<id>/recommendations/user-to-items Request parameters (JSON body)","title":"User recommendations (user-to-items)"},{"location":"Platform/Menu/Documentation/Recommendations/#input-parameters","text":"Parameter Type Description User string User id to fetch item recommendations for Items array of strings Item IDs to build the recommendations from MinInteractionTs int Min timestamp for interactions to base the recommendations on MaxInteractions int Pick orders until MaxInteractions interactions are included MaxOrders int Pick orders until MaxOrders orders are included InteractionFilter SQL To select from history based on SQL query Persona Object \"{\"gender\": \"Female\", \"country_code\": \"SE\"}\"","title":"Input parameters"},{"location":"Platform/Menu/Documentation/Recommendations/#logical-parameters","text":"Parameter Type Description TrendFactor float Value between 0 and 1. 0 is used to base recommendations on similarity only, and 1 weights the recommendations on the current trend/popularity. Default is 1. Recurring boolean Allow recommending items already consumed by the user. Default is false. AllowedItems array of item ids Only items in AllowedItems is returned in the response ForcedItems array of item ids All items in ForcedItems is returned in the response BlockedItems array of item ids No items in the BlockedItems is returned in the response Candidates int number of items to consider. Default to all available items. Can be used for faster calculations. ItemFilterExpression SQL \"price>100\" ItemBoostExpression SQL \"toFloat(margin)\" Search string Experimental Full-text-search. Filter and boost based on search string. FieldLimits array of objects Ex: [{\"Field\":\"name\", \"Limit\": 2}] makes sure to not return more than 2 items of the same color. Context See example [{\"Name\":\"ageLimit\", \"FloatValue\":11},{\"Name\": \"genres\", \"ArrayValues\": \"action,thriller\"}, {\"Name\": \"gender\", \"StringValue\": \"female\"},{\"Name\": \"ages\", \"Field\": \"AgeLimitSv\", \"Option\": \"last\"}]","title":"Logical parameters"},{"location":"Platform/Menu/Documentation/Recommendations/#output-parameters","text":"Parameter Type Description Shuffled bool shuffle recommendations StrictAfterFieldLimitCheck bool Return error if we can not find Limit valid items after FieldLimits BestEffort bool Return all valid items even if it is less than Limit Format string Response format/encoding, available options: json , og Columns array of strings Meta data columns to include in the response Limit integer Maximum number of items returned, default=0 Offset integer Items to skip","title":"Output parameters"},{"location":"Platform/Menu/Documentation/Recommendations/#curl-example","text":"curl -X POST ${IB_API_URL}/api/v1/data-models/<id>/recommendations/user-to-items \\ -H \"Authorization: ${IB_API_KEY}\" \\ -d '{\"User\": \"123\", \"Limit\": 10, \"Recurring\": false}' Response The response contains the top recommended items ordered according to the relevance score. The item object contains Id and all meta-data fields that is specified in the data-model configuration. [ {\"Id\":\"7942856970334767135\", ...}, {\"Id\":\"9136495236170061780\", ...}, ... ]","title":"cURL example"},{"location":"Platform/Menu/Manage%20Data/Data-Models/","text":"Data models What is a data model? A data model is made up of of 3 tables (from the sources): Interaction table User table Item table Each line in the interaction table is linked to a user and an item in the item and user table. When we have chosen what sources should be our interaction, item and user tables we can create a data model. After this we can start creating additional information through expressions. These expressions can later be used in dashboards. The relations and overview can be seen in the below image. When a data model is used for email analysis, the interaction becomes a specific email sent to a user , the user becomes the one receiving the email , and the email that was sent is treated as an item. Edit a data model To edit and see the detailed info about a data model, you need to edit it. You can edit it by clicking the \"pen\" either after clicking the data model, or in the data-models list, see images below. Show another place to access the edit mode Interaction Configuration Show more information The interaction table specifies info about the interaction (a user interacting with an item) that includes a timestamp (ts). An interaction config can look something like below: Field Show more information This is the name of the given in the source query (it can not be changed in the data model). Alias Show more information By adding an alias the the field name is replaced by the alias name in the dashboard and segmentation. In Recommendation the field name is always shown even if an alias is added. Role Show more information Name Description Categories Categories is used when data is made up of multiple category 's. The data format for categories has to be [ category1 ; category2 ; category3 ; etc ] Revenue Revenue can only be set on 1 field and should be sales price (EX VAT) . The reason you set mark your sales price (EX VAT) with the revenue role is to generate suggested revenue related expressions. Quantity If a user buys multiple items of the same SKU at the same time this will be either represented as 1 interaction row with quantity x In this case that field should be set to Quantity . for some data souces this will be represented as x interaction rows without a quantity row. Timestamp The timestamp role should only be set to the field that represent the interaction timestamp (when the interaction took place). other timestamps such as return date etc. should instead be set to number. The timestamp role is needed to create suggested expressions. User The User role is set to the key-field that connects the interaction table to the user table. Item The Item role is set to the key-field that connects the interaction table to the Item table. Number The Number role is automatically set to all fields that only contains numbers (you can make toFloat( field ) without error). The number role lets you interact with a field as a number meaning you can make an calculation expressions such as if( field > 100). If you want to make a histogram you can only use fields with role Number because you specify the bin width wich can only be done if the field is concidered a Number (does not work if the field is a Category ). Category All fields that can not be classified as a Number are classified as a Category . Category 's are used in for example Bar charts. Enum EnumCategories Active Show more information The Active toggle button lets you activate/deactivate a field. a deactivated field can not be used in dashboards. Info Show more information Click on the small `i` button to see a preview of how the data looks/is formatted. Item Configuration Show more information The item table specifies info about the items, i.e. the products. Fields Show more information This is the name of the given in the source query (it can not be changed in the data model). Alias Show more information By adding an alias the the field name is replaced by the alias name in the dashboard and segmentation. In Recommendation the field name is always shown even if an alias is added. Role Show more information Name Description Categories Categories is used when data is made up of multiple category 's. The data format for categories has to be [ category1 ; category2 ; category3 ; etc ] Timestamp The timestamp lets you work with unixtimestamp and shows the result in as a datetime (readable format). Format The format role represent the name of the item and is what is shown in the Image grid in the dashboards and in the recommendations Image The image role represent what field will be shown as a image in the Image grid in the dashboards and in the recommendations. The image field is usually called something with url . Number The Number role is automatically set to all fields that only contains numbers (you can make toFloat( field ) without error). The number role lets you interact with a field as a number meaning you can make an calculation expressions such as if( field > 100). If you want to make a histogram you can only use fields with role Number because you specify the bin width wich can only be done if the field is concidered a Number (does not work if the field is a Category ). Category All fields that can not be classified as a Number are classified as a Category . Category 's are used in for example Bar charts. Enum EnumCategories MLMeta Show more information The MLMeta toggle button controls what is returned when when you make an API call. This is to give you control what data you want to return to the customer. You don't want to activate MLMeta on all fields because this will result in returning a lot of \"trash columns\" to the customer that they have to filter in turn get the relevant data. Note that you also have to select the role `Image` and `Format` for the product to show. MLMeta is only relevant in the recommendations view. MLFilter Show more information The MLFilter lets you write expressions and filter your data in in the recommendations. You should only activate MLFilter for the fields you actually want to create a filter for, the reason for this is that when you activate **MLFilter** for a field this will store all data in the memory and every time the API calls for a recommendation the data model have to iterate through all fields with **MLFilter** resulting in a bad performance on the customers side (when the customer want to load our recommendations on their site the load speed will depend on how many **MLFilters** you have activated. Active Show more information The Active toggle button lets you activate/deactivate a field. a deactivated field can not be used in dashboards. Info Show more information Click on the small `i` button to see a preview of how the data looks/is formatted. User config Show more information The user table specifies info about the users, i.e. the customers. Field Show more information This is the name of the given in the source query (it can not be changed in the data model). Alias Show more information By adding an alias the the field name is replaced by the alias name in the dashboard and segmentation. In Recommendation the field name is always shown even if an alias is added. Role Show more information Name Description Categories Categories is used when data is made up of multiple category 's. The data format for categories has to be [ category1 ; category2 ; category3 ; etc ] Timestamp The timestamp lets you work with unixtimestamp and shows the result in as a datetime (readable format). Pll Email Number The Number role is automatically set to all fields that only contains numbers (you can make toFloat( field ) without error). The number role lets you interact with a field as a number meaning you can make an calculation expressions such as if( field > 100). If you want to make a histogram you can only use fields with role Number because you specify the bin width which can only be done if the field is considered a Number (does not work if the field is a Category ). Category All fields that can not be classified as a Number are classified as a Category . Category 's are used in for example Bar . Enum EnumCategories Persona Show more information The Persona toggle button controls what columns are used in the recommendations. For example, if we activate the field `gender` as a Persona, the recommendation engine will base the recommendations on what gender the user has. If we active the field `age` it will be used as a dimension in the recommendation, and so on. Note: Use a maximum of 2 columns to define persona. Alternatively, make sure that the cardinality (number of groups) is less than 1000. (ex gender: 2 different and cities: 500 different, which means `2*500 = 1000` groups) Custom properties Show more information The Custom properties-section lets you define custom user group based on your data. The feature exploits the aggregated user data that can be found in the menu at `Model->Users`, see the image below. Using for example `user.agg.first` and `user.agg.orders` as parameters `first` and `orders` it is possible to create, for example, a customer lifecycle definition as in the image below. Expression syntax Show more information Function Description SUM() Summarize a value, for example SUM(returned_quantity) returns the total amount of returned quantity (over chosen period of time) uniq() counts the amount of unique values, for example uniq(user) returns the amount of unique users. uniqExact() Is almost the same as uniq(), however uniq() may have a very small inaccuracy (that most often doesn't matter at all), but if it's important to have for example 100.002 (correct) instead of 100.000, use uniqExact(). The reason for this is simply that uniq() is less demanding. countIf() this counts +1 for each time an argument is correct on an interaction (row). Example : let's say there's 10 interactions (ten rows) in a table with a column that's currency. On 7 of the 10 rows the currency column consists of 'SEK', if we now use countIf(currency = 'SEK') we will get the value 7. sumIf() sumIf(Value that will be summarized when, X = N) Example : sumIf(revenue, currency = 'SEK') uniqIf() multiIf(boolean, result_1, boolean, result_2, ..., boolean, result_n, else_this) multiIf(name = 'red', colour, name = 'big', 'size', 'no data') Data model expression examples Expressions can be used to calculate certain variables, for example the amount of returned items (SUM(returned_quantity) or divide certain users into different categories, for example dividing the customer base into customers with or without > 1 purchases. Expressions are made in the edit mode of a data model, and later can be found and used in dashboards as parameters and metrics. When writing expressions, remember to check and/or modify so that the variables like revenue , ts (timestamp), quantity is correct according to your data. returned quantity can for example be written in different ways (example: returnedQuantity / returned_quantity ) depending on data source. returnedQuantity, returned_quantity depending on the dataset. Interaction expressions Show more information Expression Description Days since previous order cohort multiIf (agg.daysFromPrev <=30,'1. < 30', agg.daysFromPrev < =60,'2.30-60', agg.daysFromPrev < =90,'3.60-90', agg.daysFromPrev < =180,'4.90-180', agg.daysFromPrev < =360,'5.180-360', agg.daysFromPrev < =720,'6. 360-720', agg.daysFromPrev < =4000,'7.>720', '8.New') Has return multiIf(returned_quantity > 0, 'Return', 'No return') First order (month toStartOfMonth(user.agg.first) Active week toMonday(ts) Active month toStartOfMonth(ts) % discount SUM(full_price-revenue)/SUM(full_price) Revenue SUM(revenue) Price per item SUM(revenue)/SUM(quantity) Revenue per user SUM(revenue)/uniq(user) Average order value SUM(revenue)/uniq(user,ts) Sold items SUM(quantity) Items per order SUM(quantity)/uniq(user,ts) % returned quantity SUM(returned_quantity)/SUM(quantity) LTV 30d We usually do 5 different LTV metrics, just remember to change name accordingly to selected amount of days. sumIf(revenue, ts < user.agg.first + 30 AND addDays(user.agg.first, 30) <= now())/uniqIf(user,addDays(user.agg.first, 30) <= now()) , sumIf(revenue, ts < user.agg.first + 60 AND addDays(user.agg.first, 60) <= now())/uniqIf(user,addDays(user.agg.first, 60) <= now()) , sumIf(revenue, ts < user.agg.first + 90 AND addDays(user.agg.first, 90) <= now())/uniqIf(user,addDays(user.agg.first, 90) <= now()) , sumIf(revenue, ts < user.agg.first + 180 AND addDays(user.agg.first, 180) <= now())/uniqIf(user,addDays(user.agg.first, 180) <= now()) , sumIf(revenue, ts < user.agg.first + 365 AND addDays(user.agg.first, 365) <= now())/uniqIf(user,addDays(user.agg.first, 365) <= now()) Returned quantity SUM(returned_quantity) Returned or not returned multiIf(returned_quantity > 0, 'Return', 'No return') Item expressions Show more information Description Expression Sold items [item based dashboards] (item based dashboards here means that item is chosen as Role when creating the dashboard) SUM(article_number.agg.trans) Available quantity [item based dashboards] (item based dashboards here means that item is chosen as Role when creating the dashboard) SUM(item.in_stock) SUM(full_price-PriceExVatIncDiscSEK)/SUM(full_price) SUM(DiscountSEK) / SUM((DiscountSEK + PriceIncVatIncDiscSEK) User expressions Show more information Description Expression Users > 1 order uniqIf(user,user.agg.orders>1)/uniq(user)","title":"Data Models"},{"location":"Platform/Menu/Manage%20Data/Data-Models/#data-models","text":"","title":"Data models"},{"location":"Platform/Menu/Manage%20Data/Data-Models/#what-is-a-data-model","text":"A data model is made up of of 3 tables (from the sources): Interaction table User table Item table Each line in the interaction table is linked to a user and an item in the item and user table. When we have chosen what sources should be our interaction, item and user tables we can create a data model. After this we can start creating additional information through expressions. These expressions can later be used in dashboards. The relations and overview can be seen in the below image. When a data model is used for email analysis, the interaction becomes a specific email sent to a user , the user becomes the one receiving the email , and the email that was sent is treated as an item.","title":"What is a data model?"},{"location":"Platform/Menu/Manage%20Data/Data-Models/#edit-a-data-model","text":"To edit and see the detailed info about a data model, you need to edit it. You can edit it by clicking the \"pen\" either after clicking the data model, or in the data-models list, see images below. Show another place to access the edit mode","title":"Edit a data model"},{"location":"Platform/Menu/Manage%20Data/Data-Models/#interaction-configuration","text":"Show more information The interaction table specifies info about the interaction (a user interacting with an item) that includes a timestamp (ts). An interaction config can look something like below:","title":"Interaction Configuration"},{"location":"Platform/Menu/Manage%20Data/Data-Models/#item-configuration","text":"Show more information The item table specifies info about the items, i.e. the products.","title":"Item Configuration"},{"location":"Platform/Menu/Manage%20Data/Data-Models/#user-config","text":"Show more information The user table specifies info about the users, i.e. the customers.","title":"User config"},{"location":"Platform/Menu/Manage%20Data/Data-Models/#custom-properties","text":"Show more information The Custom properties-section lets you define custom user group based on your data. The feature exploits the aggregated user data that can be found in the menu at `Model->Users`, see the image below. Using for example `user.agg.first` and `user.agg.orders` as parameters `first` and `orders` it is possible to create, for example, a customer lifecycle definition as in the image below.","title":"Custom properties"},{"location":"Platform/Menu/Manage%20Data/Data-Models/#expression-syntax","text":"Show more information Function Description SUM() Summarize a value, for example SUM(returned_quantity) returns the total amount of returned quantity (over chosen period of time) uniq() counts the amount of unique values, for example uniq(user) returns the amount of unique users. uniqExact() Is almost the same as uniq(), however uniq() may have a very small inaccuracy (that most often doesn't matter at all), but if it's important to have for example 100.002 (correct) instead of 100.000, use uniqExact(). The reason for this is simply that uniq() is less demanding. countIf() this counts +1 for each time an argument is correct on an interaction (row). Example : let's say there's 10 interactions (ten rows) in a table with a column that's currency. On 7 of the 10 rows the currency column consists of 'SEK', if we now use countIf(currency = 'SEK') we will get the value 7. sumIf() sumIf(Value that will be summarized when, X = N) Example : sumIf(revenue, currency = 'SEK') uniqIf() multiIf(boolean, result_1, boolean, result_2, ..., boolean, result_n, else_this) multiIf(name = 'red', colour, name = 'big', 'size', 'no data')","title":"Expression syntax"},{"location":"Platform/Menu/Manage%20Data/Data-Models/#data-model-expression-examples","text":"Expressions can be used to calculate certain variables, for example the amount of returned items (SUM(returned_quantity) or divide certain users into different categories, for example dividing the customer base into customers with or without > 1 purchases. Expressions are made in the edit mode of a data model, and later can be found and used in dashboards as parameters and metrics. When writing expressions, remember to check and/or modify so that the variables like revenue , ts (timestamp), quantity is correct according to your data. returned quantity can for example be written in different ways (example: returnedQuantity / returned_quantity ) depending on data source. returnedQuantity, returned_quantity depending on the dataset.","title":"Data model expression examples"},{"location":"Platform/Menu/Manage%20Data/Data-Models/#interaction-expressions","text":"Show more information Expression Description Days since previous order cohort multiIf (agg.daysFromPrev <=30,'1. < 30', agg.daysFromPrev < =60,'2.30-60', agg.daysFromPrev < =90,'3.60-90', agg.daysFromPrev < =180,'4.90-180', agg.daysFromPrev < =360,'5.180-360', agg.daysFromPrev < =720,'6. 360-720', agg.daysFromPrev < =4000,'7.>720', '8.New') Has return multiIf(returned_quantity > 0, 'Return', 'No return') First order (month toStartOfMonth(user.agg.first) Active week toMonday(ts) Active month toStartOfMonth(ts) % discount SUM(full_price-revenue)/SUM(full_price) Revenue SUM(revenue) Price per item SUM(revenue)/SUM(quantity) Revenue per user SUM(revenue)/uniq(user) Average order value SUM(revenue)/uniq(user,ts) Sold items SUM(quantity) Items per order SUM(quantity)/uniq(user,ts) % returned quantity SUM(returned_quantity)/SUM(quantity) LTV 30d We usually do 5 different LTV metrics, just remember to change name accordingly to selected amount of days. sumIf(revenue, ts < user.agg.first + 30 AND addDays(user.agg.first, 30) <= now())/uniqIf(user,addDays(user.agg.first, 30) <= now()) , sumIf(revenue, ts < user.agg.first + 60 AND addDays(user.agg.first, 60) <= now())/uniqIf(user,addDays(user.agg.first, 60) <= now()) , sumIf(revenue, ts < user.agg.first + 90 AND addDays(user.agg.first, 90) <= now())/uniqIf(user,addDays(user.agg.first, 90) <= now()) , sumIf(revenue, ts < user.agg.first + 180 AND addDays(user.agg.first, 180) <= now())/uniqIf(user,addDays(user.agg.first, 180) <= now()) , sumIf(revenue, ts < user.agg.first + 365 AND addDays(user.agg.first, 365) <= now())/uniqIf(user,addDays(user.agg.first, 365) <= now()) Returned quantity SUM(returned_quantity) Returned or not returned multiIf(returned_quantity > 0, 'Return', 'No return')","title":"Interaction expressions"},{"location":"Platform/Menu/Manage%20Data/Data-Models/#item-expressions","text":"Show more information Description Expression Sold items [item based dashboards] (item based dashboards here means that item is chosen as Role when creating the dashboard) SUM(article_number.agg.trans) Available quantity [item based dashboards] (item based dashboards here means that item is chosen as Role when creating the dashboard) SUM(item.in_stock) SUM(full_price-PriceExVatIncDiscSEK)/SUM(full_price) SUM(DiscountSEK) / SUM((DiscountSEK + PriceIncVatIncDiscSEK)","title":"Item expressions"},{"location":"Platform/Menu/Manage%20Data/Data-Models/#user-expressions","text":"Show more information Description Expression Users > 1 order uniqIf(user,user.agg.orders>1)/uniq(user)","title":"User expressions"},{"location":"Platform/Menu/Manage%20Data/Import-Files/","text":"Import data to the platform There are various ways to import data to the platform, here we present the most common use cases. Uploading files to the platform (CSV for example) Show more information Go to the platform and then to `Manage data -> Import files` (can be found at the top right menu by clicking the three dots, see example image below). Drag the file to the drop-box in order to upload it to the platform Uploaded files are available from the \"imports (csv-fs)\" database connection when creating new sources (see next step). Using a feed (Google Feed for example) Show more information A feed is a file that contains a list of products that often is used to advertise through Google Merchant Center. Often these feeds are updated with latest information which means Infobaleen can use the feed to add relevant product details to the platform, such as image link data. Feeds are most often published as a public URL in format `.xml`. Adding a feed as a data source Show more information 1. Get the public URL of the feed 2. Add a new `source`, often it is a good idea to add a \"Merge Filter\" to avoid fetching too much data (you can for example add `now() < toFloat(last_seen) + 7*24*3600`) 3. Add a query similar to below and also add `decoder=head` in the field `Preprocessor directives` to show the file structure. Note that you have to write `url:` before `https://`, see example below SELECT * FROM `url:https://exampleurl.com/plugin-export/shoppingfeed/se` [Note that you have to write url: before https://] Preprocessor directives Start by writing `decoder=xml` (or `=feed`) to show the file structure, it will in the preview window show the content. decoder: describes what file format, xml, csv, json etc. root: navigates the file and shows where you want to read data. rowtag: selects the object. pluck: inside your rowtag you can have multiple data columns, pluck lets you choose wich you want to get. Below is an example of what to write in the preprocessor to fetch feed data correctly: `decoder=xml` `root=rss.channel` `rowtag=item` `pluck=google_product_category,price` You can then run `EXECUTE PREVIEW QUERY` to see the result. JSON Files Show more information An example json file could look like: ``` [ { \"id\": \"\", \"user_id\": \"\", \"username\": \"\" }, { \"id\": \"\", \"user_id\": \"\" \"username\": \"\" } ] SELECT * FROM `url:https://...json` preprocessing directive for json `decoder=json` `json_prefix=[0]` Using a database connection First, make sure you know the origin files to fetch. If files are fetched from Go to the platform and then to Admin -> Configuration (can be found at the top right menu by clicking the three dots, see example image below). Set up a configuration Add a database and name the Database based on the what system they use (centra, voyado, etc), and choose the matching Driver . In the Config field, check the standard URL provided by the corresponding ecommerce platform. Note: A key or token is most often needed to access databases. This key can be added under Admin -> Secrets . Make arbitrary query Show more information Create a source and make an arbitrary query similar to SELECT * FROM `users.gz` for Centra. You can list possible paths by using SELECT * FROM `*` . This will trigger a proxy sync, and in the case of a Centra customer as in the example image below, the `.gz` files will appear once completed. This normally takes 1-5 hours. How to verify that the sync works Show more information Choose the source you created and press the pen to edit it. Go to the `ADD QUERY` tab and choose SELECT * FROM `*`. If the sync is ready, you will see a list of files to choose from, for example, `users.gz`, `items.gz`, `interactions.gz`, see image below. If you see the files imported you are now ready to [create sources!](https://github.com/infobaleen/customer-success/blob/main/Documentation/Platform/Menu/Manage%20Data/Sources.md)","title":"Import Files"},{"location":"Platform/Menu/Manage%20Data/Import-Files/#import-data-to-the-platform","text":"There are various ways to import data to the platform, here we present the most common use cases.","title":"Import data to the platform"},{"location":"Platform/Menu/Manage%20Data/Import-Files/#uploading-files-to-the-platform-csv-for-example","text":"Show more information Go to the platform and then to `Manage data -> Import files` (can be found at the top right menu by clicking the three dots, see example image below). Drag the file to the drop-box in order to upload it to the platform Uploaded files are available from the \"imports (csv-fs)\" database connection when creating new sources (see next step).","title":"Uploading files to the platform (CSV for example)"},{"location":"Platform/Menu/Manage%20Data/Import-Files/#using-a-feed-google-feed-for-example","text":"Show more information A feed is a file that contains a list of products that often is used to advertise through Google Merchant Center. Often these feeds are updated with latest information which means Infobaleen can use the feed to add relevant product details to the platform, such as image link data. Feeds are most often published as a public URL in format `.xml`.","title":"Using a feed (Google Feed for example)"},{"location":"Platform/Menu/Manage%20Data/Import-Files/#using-a-database-connection","text":"First, make sure you know the origin files to fetch. If files are fetched from Go to the platform and then to Admin -> Configuration (can be found at the top right menu by clicking the three dots, see example image below).","title":"Using a database connection"},{"location":"Platform/Menu/Manage%20Data/Import-Files/#set-up-a-configuration","text":"Add a database and name the Database based on the what system they use (centra, voyado, etc), and choose the matching Driver . In the Config field, check the standard URL provided by the corresponding ecommerce platform. Note: A key or token is most often needed to access databases. This key can be added under Admin -> Secrets .","title":"Set up a configuration"},{"location":"Platform/Menu/Manage%20Data/Import-Files/#make-arbitrary-query","text":"Show more information Create a source and make an arbitrary query similar to SELECT * FROM `users.gz` for Centra. You can list possible paths by using SELECT * FROM `*` . This will trigger a proxy sync, and in the case of a Centra customer as in the example image below, the `.gz` files will appear once completed. This normally takes 1-5 hours.","title":"Make arbitrary query"},{"location":"Platform/Menu/Manage%20Data/Import-Files/#how-to-verify-that-the-sync-works","text":"Show more information Choose the source you created and press the pen to edit it. Go to the `ADD QUERY` tab and choose SELECT * FROM `*`. If the sync is ready, you will see a list of files to choose from, for example, `users.gz`, `items.gz`, `interactions.gz`, see image below. If you see the files imported you are now ready to [create sources!](https://github.com/infobaleen/customer-success/blob/main/Documentation/Platform/Menu/Manage%20Data/Sources.md)","title":"How to verify that the sync works"},{"location":"Platform/Menu/Manage%20Data/Results/","text":"Results Here the results from auto-targeting and clustering are listed as seen below.","title":"Results"},{"location":"Platform/Menu/Manage%20Data/Results/#results","text":"Here the results from auto-targeting and clustering are listed as seen below.","title":"Results"},{"location":"Platform/Menu/Manage%20Data/Sources/","text":"Create sources When the data has been imported , go to Manage Data -> Sources and create a new source by clicking the purple plus sign as seen in the below image. Name the source import_[source of data]_[type of data] where [source of data] specifies where the data comes from (centra, voyado, etc), and the [type of data] specifies the data type (items, users, interactions, etc). Choose an identifier for the source using the Id columns field. If the source you\u2019re creating is for: interactions : we want to identify each interaction through a user, an item and the time of the purchase, therefore choose user,ts,item under id columns and then press create. items : we want to identify each item by using an item id (often sku or variant). users : we want to identify each user by using a user id. The fields Comment and Merge Filter can be left empty, and you can press CREATE . Choose database connection and create a QUERY If it\u2019s a centra/voyado customer choose that option, if the files were uploaded manually, choose imports. You can now see the query stage, as standard \u201cSELECT * FROM `*`\u201d will show, if you press \u201cEXECUTE PREVIEW SUMMARY\u201d you will see all the imported files you can choose to gather data from. Copy the filename you want to use and enter that name in the query above, like SELECT * FROM [ENTER FILENAME HERE] . The import file is now done, press sync and save to exit. Now repeat the \"Create source\"-step 2 but name the file model_[source of data]_[type of data] (the use same identifier as in the import file). In the Choose database connection now choose source instead, and press execute preview summary , now choose the import source file and edit the query to select from that, like \" SELECT * FROM ENTER_SOURCENAME_HERE \" and then press Save and sync . Frontpage columns Show more information See below an example image from source view, with a source named `transactions`. Here is a short explanation of the columns (note that not all columns are shown in the above image): Name Name of source id Every source has an unique id which is used to show dependencies between sources. Count Count describes how many rows the source have. There can only be 1 row for every unique key column. if there are multiple rows with the same key all but 1 is removed. Tags You can tag a source to keep track of how it is used. Drivers The drivers show what driver is used and also if it is active (green) or inactive (red). If a source has multiple queries there will be multiple drivers, here you can see wich source is active and wich are not. Sync You can set a daily sync for the source, for example `DailyAt:6`. Dependencies Dependencies for a source show what other sources the are used to build up the source. An example for this is SELECT * FROM Source1 LEFT JOIN Source2 on Source2.id = Source1.id UNION SELECT * FROM Source3 This will show the id for source 1,2,3 in the Dependencies for the new source. Updated At Shows how long ago the source was last modified. Synced At Shows how long ago the source was last synced. Top Menu In the source view there are also some funcationality that can be accessed using the icons in the top right corner. Delete Delete the selected source. Tag Select a source, click Tag and write a new tag or select an old tag. Set sync schedule Configure a daily data sync to update the source on a regular basis. Migrate Truncate Truncate wipes the source of all data. This is usefull if you have changed key column for example because if you just sync the data the old data is not removed. [Note that some sources only read 1 week data at the time to save time, if you truc a source like this all historic data is removed wich is bad] Sync Manually syncs the source. Create Creates a new source. Edit a source Show more information When clicking a source, you find the edit mode by clicking the \"pen\" in the top right corner. This will open a view as can be seen in the image below. Settings Name Just a name Id columns The Id columns has to be choosen to be unique. if the id is not unique (the same id for many rows) only 1 row will be saved and all others are removed. For the interaction table the id has to contain user AND id or ts,item. The reason user has to be an id column is because when user is the first id column all interactions are sorted on user first. this lets you use expressions such as agg.i wich count number of interactions a user has made. if the interaction table is not sorted on user first the aggregation functions doesnt work. For multiple id columns they are sorted in the order they are written. User,ts,item is sorted first on user, then on ts and lastly on item. SELECT CUSTOM COLUMNS is usefull if you want other names than the predefined such as SKU. RunEvery Set a sync time Comment Merge filter lets you filter out your query before you save it. A Merge filter discards everything that is not true before saving the table. For example if you add a query similar to `toFloat(ts) > now()-100*24*3600`, then all timestamp (ts) data from later than 100 days will be discarded. Overview Shows what is in the source currently Query Database connection Define the type of connection for the data to be added to the source. Load saved query lets you reload previously run queries Preprocessor directives Preprocessor information can be found under the \"Import Files\" section of the documentation. Query expressions You need to enclose variable names that contain other characters than letters and numbers with `backticks` ` `, this includes whitespace ' ', dot '.', etc... Below is further information about more advanced queries Show more information SELECT * FROM `raw: id,item 1,item1 2,item2` this returns a table. UNION Show more information A UNION merges two data sources by including all unique rows from both. When making a union the columns need to have the same name and be in the same order SELECT * FROM `table 1` UNION SELECT * FROM `table 2` if you have overlapping id rows in `table 1` and `table 2` the id in `table 1` will be saved and `table 2` will be discared. ex. to try this, create a test source select incr(1,50) AS id, 'table 1' AS item from `<RANDOM_SOURCE>` UNION select incr(1,1) AS id, 'table 2' AS item from `<RANDOM_SOURCE>` then create a new source SELECT * FROM `<TEST_SOURCE>` this will show that all overlapping ids will have item from `table 1`. A UNION can also be suffixed by ALL, where UNION ALL will not discard duplicates, meaning much faster execution but leaves duplicate rows if they exist. INSERT INTO Show more information insert into lets you create multiple tables in the same query that you can use to create a UNION or LEFT JOIN. INSERT INTO <table_name> SELECT * FROM `<source_name>` ; The `;` is needed to mark where the table end. When using the table you created with INSERT INTO you use the not the ex. LEFT JOIN <table_name> ON <table_name>.id = XXX.id LEFT JOIN and JOIN Show more information LEFT JOIN lets you append more columns to an existing table, while join only keeps the ones matching. See below a code example where you can change `left join` to `join` to see the effects. INSERT INTO countries SELECT * FROM `raw: id,country 1,se 2,no `; INSERT INTO currencies SELECT * FROM `raw: country,currency se,sek us,usd `; select * from countries left join currencies ON countries.country = currencies.country NOT IN Show more information Only selects rows that do not match, example SELECT * from `raw: id,name 1,anni-frid 2,agnetha 3,bj\u00f6rn 4,benny ` WHERE name NOT IN ('anni-frid', 'agnetha') Will return id,name 3,bj\u00f6rn 4,benny firstSeen() Show more information firstseen( ) saves only the first encountered row for coalese toFloat() unixTimestamp() split() and slice() and slicestr() Show more information These expressions can be used to edit strings, see an example below: Insert into a SELECT * FROM `raw: a b 1 ABCDE` ; SELECT a AS a, split(b,'') AS step1, slice(split(b,''),0,3) AS step2, replace(slice(split(b,''),0,3),',','') AS step3, length(b), slicestr(b,1,2) FROM a The result will be: a step1 step2. step3 length(b) slicestr(b, 1, 2) 1 A,B,C,D,E. A,B,C ABC 5 BC groupconcat_ws Show more information Insert into a SELECT * FROM `raw: Id,user,ordernr,item,price 1,100,1,A,\"10SEK\" 2,100,1,B,\"20SEK\" 3,100,1,C,\"30SEK\"` ; SELECT user, ordernr, groupconcat_ws(price, ',') price_list FROM a The result will be: user ordernr price_list 100 1 10SEK,20SEK,30SEK Create a custom user.agg.(field) Show more information the datamodel creates aggregate functions such as user.agg.revenue. to create one yourself do the following. In the below example I create `user.agg.margin` similar to `user.agg.revenue` --aggregates margins per user same as user.agg.revenue but with margin INSERT INTO margin SELECT user AS user, concat('',SUM(margin)) AS total_margin FROM `s3 - transactions`; SELECT UI.user AS user, margin.total_margin AS total_margin, UI.other fields... FROM `user_import` AS UI LEFT JOIN margin ON margin.user = UI.user Note that you need to add `concat('',)` to the sum expression. this is because you cant LEFT JOIN a float. `concat('',)` converts it into a string. `concat('',SUM(margin)) AS total_margin`","title":"Sources"},{"location":"Platform/Menu/Manage%20Data/Sources/#create-sources","text":"When the data has been imported , go to Manage Data -> Sources and create a new source by clicking the purple plus sign as seen in the below image. Name the source import_[source of data]_[type of data] where [source of data] specifies where the data comes from (centra, voyado, etc), and the [type of data] specifies the data type (items, users, interactions, etc). Choose an identifier for the source using the Id columns field. If the source you\u2019re creating is for: interactions : we want to identify each interaction through a user, an item and the time of the purchase, therefore choose user,ts,item under id columns and then press create. items : we want to identify each item by using an item id (often sku or variant). users : we want to identify each user by using a user id. The fields Comment and Merge Filter can be left empty, and you can press CREATE . Choose database connection and create a QUERY If it\u2019s a centra/voyado customer choose that option, if the files were uploaded manually, choose imports. You can now see the query stage, as standard \u201cSELECT * FROM `*`\u201d will show, if you press \u201cEXECUTE PREVIEW SUMMARY\u201d you will see all the imported files you can choose to gather data from. Copy the filename you want to use and enter that name in the query above, like SELECT * FROM [ENTER FILENAME HERE] . The import file is now done, press sync and save to exit. Now repeat the \"Create source\"-step 2 but name the file model_[source of data]_[type of data] (the use same identifier as in the import file). In the Choose database connection now choose source instead, and press execute preview summary , now choose the import source file and edit the query to select from that, like \" SELECT * FROM ENTER_SOURCENAME_HERE \" and then press Save and sync .","title":"Create sources"},{"location":"Platform/Menu/Manage%20Data/Sources/#frontpage-columns","text":"Show more information See below an example image from source view, with a source named `transactions`. Here is a short explanation of the columns (note that not all columns are shown in the above image): Name Name of source","title":"Frontpage columns"},{"location":"Platform/Menu/Manage%20Data/Sources/#edit-a-source","text":"Show more information When clicking a source, you find the edit mode by clicking the \"pen\" in the top right corner. This will open a view as can be seen in the image below.","title":"Edit a source"},{"location":"Platform/Menu/Manage%20Data/Sources/#below-is-further-information-about-more-advanced-queries","text":"Show more information SELECT * FROM `raw: id,item 1,item1 2,item2` this returns a table. UNION Show more information A UNION merges two data sources by including all unique rows from both. When making a union the columns need to have the same name and be in the same order SELECT * FROM `table 1` UNION SELECT * FROM `table 2` if you have overlapping id rows in `table 1` and `table 2` the id in `table 1` will be saved and `table 2` will be discared. ex. to try this, create a test source select incr(1,50) AS id, 'table 1' AS item from `<RANDOM_SOURCE>` UNION select incr(1,1) AS id, 'table 2' AS item from `<RANDOM_SOURCE>` then create a new source SELECT * FROM `<TEST_SOURCE>` this will show that all overlapping ids will have item from `table 1`. A UNION can also be suffixed by ALL, where UNION ALL will not discard duplicates, meaning much faster execution but leaves duplicate rows if they exist. INSERT INTO Show more information insert into lets you create multiple tables in the same query that you can use to create a UNION or LEFT JOIN. INSERT INTO <table_name> SELECT * FROM `<source_name>` ; The `;` is needed to mark where the table end. When using the table you created with INSERT INTO you use the not the ex. LEFT JOIN <table_name> ON <table_name>.id = XXX.id LEFT JOIN and JOIN Show more information LEFT JOIN lets you append more columns to an existing table, while join only keeps the ones matching. See below a code example where you can change `left join` to `join` to see the effects. INSERT INTO countries SELECT * FROM `raw: id,country 1,se 2,no `; INSERT INTO currencies SELECT * FROM `raw: country,currency se,sek us,usd `; select * from countries left join currencies ON countries.country = currencies.country NOT IN Show more information Only selects rows that do not match, example SELECT * from `raw: id,name 1,anni-frid 2,agnetha 3,bj\u00f6rn 4,benny ` WHERE name NOT IN ('anni-frid', 'agnetha') Will return id,name 3,bj\u00f6rn 4,benny firstSeen() Show more information firstseen( ) saves only the first encountered row for coalese toFloat() unixTimestamp() split() and slice() and slicestr() Show more information These expressions can be used to edit strings, see an example below: Insert into a SELECT * FROM `raw: a b 1 ABCDE` ; SELECT a AS a, split(b,'') AS step1, slice(split(b,''),0,3) AS step2, replace(slice(split(b,''),0,3),',','') AS step3, length(b), slicestr(b,1,2) FROM a The result will be: a step1 step2. step3 length(b) slicestr(b, 1, 2) 1 A,B,C,D,E. A,B,C ABC 5 BC groupconcat_ws Show more information Insert into a SELECT * FROM `raw: Id,user,ordernr,item,price 1,100,1,A,\"10SEK\" 2,100,1,B,\"20SEK\" 3,100,1,C,\"30SEK\"` ; SELECT user, ordernr, groupconcat_ws(price, ',') price_list FROM a The result will be: user ordernr price_list 100 1 10SEK,20SEK,30SEK Create a custom user.agg.(field) Show more information the datamodel creates aggregate functions such as user.agg.revenue. to create one yourself do the following. In the below example I create `user.agg.margin` similar to `user.agg.revenue` --aggregates margins per user same as user.agg.revenue but with margin INSERT INTO margin SELECT user AS user, concat('',SUM(margin)) AS total_margin FROM `s3 - transactions`; SELECT UI.user AS user, margin.total_margin AS total_margin, UI.other fields... FROM `user_import` AS UI LEFT JOIN margin ON margin.user = UI.user Note that you need to add `concat('',)` to the sum expression. this is because you cant LEFT JOIN a float. `concat('',)` converts it into a string. `concat('',SUM(margin)) AS total_margin`","title":"Below is further information about more advanced queries"},{"location":"Platform/Menu/Model/Interactions/","text":"Interactions Here you can browse all the data present in your data model, the item data starts with item. followed by the column name, the user. refers to user data. The filter button on the top left side can be used to show/hide certain columns and the top right filter button lets you select certain ranges, specific data you are looking for etc. Example of item data Example of user data","title":"Interactions"},{"location":"Platform/Menu/Model/Interactions/#interactions","text":"Here you can browse all the data present in your data model, the item data starts with item. followed by the column name, the user. refers to user data. The filter button on the top left side can be used to show/hide certain columns and the top right filter button lets you select certain ranges, specific data you are looking for etc.","title":"Interactions"},{"location":"Platform/Menu/Model/Interactions/#example-of-item-data","text":"","title":"Example of item data"},{"location":"Platform/Menu/Model/Interactions/#example-of-user-data","text":"","title":"Example of user data"},{"location":"Platform/Menu/Model/Overview/","text":"Overview This gives an overview of the data model, including the total number of interactions, the total number of unique users, and machine learning information. You can also filter down on certain metrics/dates to gain the overview you desire.","title":"Overview"},{"location":"Platform/Menu/Model/Overview/#overview","text":"This gives an overview of the data model, including the total number of interactions, the total number of unique users, and machine learning information. You can also filter down on certain metrics/dates to gain the overview you desire.","title":"Overview"},{"location":"Platform/Menu/Model/Products/","text":"Products Here you can browse all the product data present in your data model. The filter button on the top left can be used to show/hide certain columns, and the top right filter button lets you select certain ranges, specific data you are looking for etc.","title":"Products"},{"location":"Platform/Menu/Model/Products/#products","text":"Here you can browse all the product data present in your data model. The filter button on the top left can be used to show/hide certain columns, and the top right filter button lets you select certain ranges, specific data you are looking for etc.","title":"Products"},{"location":"Platform/Menu/Model/Users/","text":"Users Here you can browse all the user data present in your data model. The filter button on the top left side can be used to show/hide certain columns and the top right filter button lets you select certain ranges, specific data you are looking for etc.","title":"Users"},{"location":"Platform/Menu/Model/Users/#users","text":"Here you can browse all the user data present in your data model. The filter button on the top left side can be used to show/hide certain columns and the top right filter button lets you select certain ranges, specific data you are looking for etc.","title":"Users"},{"location":"Platform/Menu/Other/Overlaps/","text":"Overlaps","title":"Overlaps"},{"location":"Platform/Menu/Other/Overlaps/#overlaps","text":"","title":"Overlaps"},{"location":"Platform/Recommendations/Data%20available%20in%20recommendations/","text":"Data available in recommendations MlMeta To show an image and name on your recomendations you have to choose a format field and an image field under items AND activate the ml meta for these fields. MlFilter To write filter expressions based on fields you have to activate ml filter for these fields","title":"Data available in recommendations"},{"location":"Platform/Recommendations/Data%20available%20in%20recommendations/#data-available-in-recommendations","text":"","title":"Data available in recommendations"},{"location":"Platform/Recommendations/Data%20available%20in%20recommendations/#mlmeta","text":"To show an image and name on your recomendations you have to choose a format field and an image field under items AND activate the ml meta for these fields.","title":"MlMeta"},{"location":"Platform/Recommendations/Data%20available%20in%20recommendations/#mlfilter","text":"To write filter expressions based on fields you have to activate ml filter for these fields","title":"MlFilter"},{"location":"Platform/Recommendations/Example%20Use%20Cases/","text":"Example Recommendation Profiles On-site Similar products recommendation : Similar Recommend products from the same category Purpose: High recognition factor Inspiration recommendation : Inspiration Recommend products in categories that the customer has not purchased from before / selected product Purpose: Inspire purchases in the most relevant categories that have not yet been purchased from / the product is not in Check-out recommendation : Check-out Recommend cheaper products based on what the customer has placed in their shopping cart Purpose: Increase AOV with a relevant product in the lower price segment Expression: tofloat(Price) < tofloat(last(basketArticlePrice))*0.8 On sale recommendations : On sale Recommend products that are on sale Purpose: Increase the sale percentage by showing relevant products on sale. Cross-sell recommendations : Cross-sell Recommend products from other categories than what you're currently looking at In E-Mail Standard recommendation : Standard Recommend the most likely next purchase (medium trend) Purpose: High likelihood of conversion Win-back recommendation : Win-back Recommend the most likely products a customer will purchase based on historical purchasing behavior Purpose: Present the products that a churned customer is most likely to buy Thanks for the last order recommendation : Last purchase Recommend the most likely products based on the customer's last order Purpose: Increase the number of customers who make another purchase On sale recommendations : On sale Recommend products that are on sale Purpose: Increase the sale percentage by showing relevant products on sale. Recommendations in emails Show more information about e-mail profiles We can supply personalized recommendations in automated email flows. The technical integration varies between partners, but the main difference compared to segments is that we supply an individually customized set of products per user. Partners Here we specify how the process works between us and specified partners Voyado Voyado has an ftp server to which we push a file of the form ContactId,Skus,ExpiryDate 00000000-0000-0000-0000-00000000000K,\"Item692,Item165,Item835,Item166,Item836,Item838,Item277,Item504,Item332,Item218,Item608,Item528\",9999-12-31T00:00:00.000+0000 00000000-1234-1234-0000-01234567891K,\"Item218,Item411,Item135,Item504,Item692,Item202,Item1035,Item835,Item412,Item277,Item610,Item515\",9999-12-31T00:00:00.000+0000 00000000-4321-4321-0000-10987654321K,\"Item165,Item702,Item701,Item146,Item166,Item835,Item1035,Item610,Item836,Item135,Item218,Item150\",9999-12-31T00:00:00.000+0000 The list of `Skus` is generated from our recommendation engine for the user specified under `ContactId`, where the 0 line is the fallback recommendation. Once the recommendation flow is set up and an initial export has been sent, the recommendations can be previewed in Voyado. This is done by us selecting a few contactIds from the platform for them to check. Then the customer triggers a support ticket by sending an email to support@revide.se (revide is the old name, this may be updated) with the contactIds and requests checking the preview. **Note:** Historically there has been some issues due to contacts being labeled as \"Contact\" instead of \"Member\". This should be resolved as of April 2022, but to be safe, it could be a good idea to locate and include a user labeled \"Contact\" that has a purchase history.","title":"Example Use Cases"},{"location":"Platform/Recommendations/Example%20Use%20Cases/#example-recommendation-profiles","text":"","title":"Example Recommendation Profiles"},{"location":"Platform/Recommendations/Example%20Use%20Cases/#on-site","text":"Similar products recommendation : Similar Recommend products from the same category Purpose: High recognition factor Inspiration recommendation : Inspiration Recommend products in categories that the customer has not purchased from before / selected product Purpose: Inspire purchases in the most relevant categories that have not yet been purchased from / the product is not in Check-out recommendation : Check-out Recommend cheaper products based on what the customer has placed in their shopping cart Purpose: Increase AOV with a relevant product in the lower price segment Expression: tofloat(Price) < tofloat(last(basketArticlePrice))*0.8 On sale recommendations : On sale Recommend products that are on sale Purpose: Increase the sale percentage by showing relevant products on sale. Cross-sell recommendations : Cross-sell Recommend products from other categories than what you're currently looking at","title":"On-site"},{"location":"Platform/Recommendations/Example%20Use%20Cases/#in-e-mail","text":"Standard recommendation : Standard Recommend the most likely next purchase (medium trend) Purpose: High likelihood of conversion Win-back recommendation : Win-back Recommend the most likely products a customer will purchase based on historical purchasing behavior Purpose: Present the products that a churned customer is most likely to buy Thanks for the last order recommendation : Last purchase Recommend the most likely products based on the customer's last order Purpose: Increase the number of customers who make another purchase On sale recommendations : On sale Recommend products that are on sale Purpose: Increase the sale percentage by showing relevant products on sale.","title":"In E-Mail"},{"location":"Platform/Recommendations/Example%20Use%20Cases/#recommendations-in-emails","text":"Show more information about e-mail profiles We can supply personalized recommendations in automated email flows. The technical integration varies between partners, but the main difference compared to segments is that we supply an individually customized set of products per user.","title":"Recommendations in emails"},{"location":"Platform/Recommendations/Front%20page/","text":"Front page Search for items Items added in the search items window are counted as items given to the platform through the API call. This means they dont not affected by boughtArticleGroup but affects basketArticleGroup . Profile Here you choose what profile to view and edit, all your previous profiles as well as their id is shown here. Refresh The refresh button simply refreshes the Clear user and items Removes selected items and user Bench Shows how fast the recommendation are returend when making an API call. (if your datamodel has MLFilter active for many fields the recommendations will be slower). Add random item Same as search for items but adds a random item. Add random user Selects a random user and shows what items this user has previously bought and the returned recommended items based on this. Recommendation output The output is what the API returns to the customer. All fields active in the Columns section are returnerd. if the image is active the output will only show the image and format. by disabling the image you can see all other fields that are returned. With image active: With image inactive:","title":"Front page"},{"location":"Platform/Recommendations/Front%20page/#front-page","text":"","title":"Front page"},{"location":"Platform/Recommendations/Front%20page/#search-for-items","text":"Items added in the search items window are counted as items given to the platform through the API call. This means they dont not affected by boughtArticleGroup but affects basketArticleGroup .","title":"Search for items"},{"location":"Platform/Recommendations/Front%20page/#profile","text":"Here you choose what profile to view and edit, all your previous profiles as well as their id is shown here.","title":"Profile"},{"location":"Platform/Recommendations/Front%20page/#refresh","text":"The refresh button simply refreshes the","title":"Refresh"},{"location":"Platform/Recommendations/Front%20page/#clear-user-and-items","text":"Removes selected items and user","title":"Clear user and items"},{"location":"Platform/Recommendations/Front%20page/#bench","text":"Shows how fast the recommendation are returend when making an API call. (if your datamodel has MLFilter active for many fields the recommendations will be slower).","title":"Bench"},{"location":"Platform/Recommendations/Front%20page/#add-random-item","text":"Same as search for items but adds a random item.","title":"Add random item"},{"location":"Platform/Recommendations/Front%20page/#add-random-user","text":"Selects a random user and shows what items this user has previously bought and the returned recommended items based on this.","title":"Add random user"},{"location":"Platform/Recommendations/Front%20page/#recommendation-output","text":"The output is what the API returns to the customer. All fields active in the Columns section are returnerd. if the image is active the output will only show the image and format. by disabling the image you can see all other fields that are returned. With image active: With image inactive:","title":"Recommendation output"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/","text":"Recommendations UI You can use the platform to create personalized product recommendations that can be added to your website, checkout flow or in email campaigns. You can create customizable API recommendations profiles with filters and rules based on your product meta data, and apply them to different use cases. Below is an example how the recommendations tab can look. By clicking the cog wheel you will open the settings. Settings Here we explain the different settings fields that can be seen after clicing the cog wheel. Search Columns Columns are the data columns that can be used to create filters and rules. These are activated in the data model with the MlFilter toggle (MlFilter = Machine Learning Filter), see the image below. Filter expression Here you can write an expression that creates a filter for your recommendation profile. For example, perhaps you just want to recommend products in a specific category, then you would write something like category = 'Kaffe & Te' , or price > 100 If the expression is True the product will be included in the recommendation, and it the expression is False the product will be filtered. In the case of price > 100 , the expression will return True for all products with a price larger than 100 thus removing all items with a price lower than 100 from the recommendations. Boost expression InteractionFilter Trend Trend limits the time interval for the data that the recomendations are based on. Max trend uses a short time interval resulting in the machine-learning model only recommending products that are trending last few weeks. Limit Limit decides how many recomended items are returned. For example, Limit 4 = Four recommended items. Limit 12 = 12 recommended items. Max orders Number of orders that are taken into concideration when recommending products. Max orders = 1 means only the items included in the latest order are used as purchase history for that user. Max orders = 2 means the items in the two latest orders are taken into account. Max interactions Number of items that are taken into concideration when recommending products. Max items = 1 means only the latest purchased item is used as purchase history for that user. Max items = 2 means the two latest items are taken into account. Allow items from history Sets a filter so that all items the user have bought cannot be recommended. Shuffled If Limit is set to 10 the items are recomended in order (most likly next purchase is at the top). by enabling shuffled it still recommends the top 10 items but the order of the top 10 items are shuffled. Advanced Create an advanced filter. Name: is the variable name. Field: the field wich you are taking data from Option: \"all\" means all items in the users purchase history. \"items\" means all items sent in through the API by the customer. When the customer makes an API call for the recommendation they can include items in the API call. for example items in the basket, the item you are currently looking at etc. See an example below: Example of advanced quey {\"Context\":[{\"Name\":\"bought_phone_model\",\"Field\":\"phone_model\",\"Option\":\"all\"}]} Filter expression: hasAny(split(bought_phone_model,\",\"),makeArray(phone_model)) split(bought_phone_model,\",\") returns an array of your purchase history (\"Field\":\"phone_model\"): ['bought_phone_model_1','bought_phone_model_2','bought_phone_model_3','bought_phone_model_4'] makeArray(phone_model) returns an array of all phone_model : ['phone_model_1','phone_model_2','phone_model_3','phone_model_n'] hasAny checks if elements in array 1 is contained in array 2 in this case the customers purchase history includes iPhone 12/Pro MagSafe and iPhone 12/Pro The expression hasAny(split(bought_phone_model,\",\"),makeArray(phone_model)) will thus return true for all pruducts where phone_model = iPhone 12/Pro MagSafe or iPhone 12/Pro and false for all other products. Thus only products with the same phone_model will be recommended. If you change the expression to hasAny(split(bought_phone_model,\",\"),makeArray(phone_model)) = FALSE everything will be inverted thus only recomending products where the phone_model != iPhone 12/Pro MagSafe or iPhone 12/Pro . [NOTE! when adding an item to in the Search for items you DO NOT add this item to your purchase history, these items are sent in from the API meaning they will only be affected by a filter expression if you use the option item instead of all ] See example: Add field limit Field limit lets you set a filter on how many of each category should be recommended. This is usually used on product category where you only want to include ex. max 2 of each product category. Save as new profile Saves the current configuration as a profile new Save profile Overrides the current profile with the current configuration. Delete profile Delets selected profile. Front page Search for items Items added in the search items window are counted as items given to the platform through the API call. This means they dont not affected by boughtArticleGroup but affects basketArticleGroup . Profile Saved profiles Refresh Clear user and items Removes selected items and user Bench Shows how fast the recommendation are returend when making an API call. (if your datamodel has MLFilter active for many fields the recommendations will be slower). Add random item Same as search for items but adds a random item. Add random user Selects a random user and shows what items this user has previously bought and the returned recommended items based on this. Recommendation output The output is what the API returns to the customer. All fields active in the Columns section are returnerd. if the image is active the output will only show the image and format. by disabling the image you can see all other fields that are returned. With image active: With image inactive: Data available in recommendations MlMeta To show an image and name on your recomendations you have to choose a format field and an image field under items AND activate the ml meta for these fields. MlFilter To write filter expressions based on fields you have to activate ml filter for these fields Recommendations in emails Introduction We can supply personalized recommendations in automated email flows. The technical integration varies between partners, but the main difference compared to segments is that we supply an individually customized set of products per user. Partners Here we specify how the process works between us and specified partners Voyado Voyado has an ftp server to which we push a file of the form ContactId,Skus,ExpiryDate 00000000-0000-0000-0000-000000000000,\"Item692,Item165,Item835,Item166,Item836,Item838,Item277,Item504,Item332,Item218,Item608,Item528\",9999-12-31T00:00:00.000+0000 0001394c-9e71-43d6-86f3-ada901fc4c10,\"Item218,Item411,Item135,Item504,Item692,Item202,Item1035,Item835,Item412,Item277,Item610,Item515\",9999-12-31T00:00:00.000+0000 00021b19-db3d-4d26-84ce-ad56g0f028e3,\"Item165,Item702,Item701,Item146,Item166,Item835,Item1035,Item610,Item836,Item135,Item218,Item150\",9999-12-31T00:00:00.000+0000 The list of Skus is generated from our recommendation engine for the user specified under ContactId , where the 0 line is the fallback recommendation. -- Insert how to setup Voyado Export here -- Once the recommendation flow is set up and an initial export has been sent, the recommendations can be previewed in Voyado. This is done by us selecting a few contactIds from the platform for them to check. Then the customer triggers a support ticket by sending an email to support@revide.se (revide is the old name, this may be updated) with the contactIds and requests checking the preview. Note: Historically there has been some issues due to contacts being labeled as \"Contact\" instead of \"Member\". This should be resolved as of April 2022, but to be safe, it could be a good idea to locate and include a user labeled \"Contact\" that has a purchase history. Infobaleen recommended recommendation profiles Basic settings Products in stock For clear gender-related products: See if you should only recommend products with the same gender Olika rekommendationer Standard rekommendation: Standard Rekommendera det mest sannolika n\u00e4sta k\u00f6pet (medium trend) Syfte: H\u00f6g sannolik att konvertera Liknande produkter rekommendation: Similar Rekommendera produkter ur samma kategori Syfte: H\u00f6g igenk\u00e4nningsfaktor Inspiration rekommendation: Inspiration Rekommendera produkter inom kategorier kunden ej handlat inom tidigare / vald produkt Syfte: Inspirera till k\u00f6p i de mest relevanta kategorier man \u00e4nnu ej handlat inom / produkten ej \u00e4r i Win-back rekommendation: Win-back Rekommendera mest sannolika produkter en kund kommer k\u00f6pa utifr\u00e5n historiskt k\u00f6pbeteende Syfte: Presenter de produkter en churnad kund har h\u00f6gst sannolikhet att k\u00f6pa Check-out rekommendation: Check-out Rekommendera billigare produkter utifr\u00e5n vad kunden lagt i sin varukorg Syfte: \u00d6ka AOV med en relevant produkt i det l\u00e4gre prissegmentet Expression: tofloat(Price) < tofloat(last(basketArticlePrice))*0.8 Tack f\u00f6r senast order rekommendation: Last purchase Rekommendera mest sannolika produkter utifr\u00e5n kundens senaste order Syfte: \u00d6ka andelen kunder som g\u00f6r ett n\u00e4sta k\u00f6p Produkter p\u00e5 rea rekommendationer: On sale Rekommendera produkter som \u00e4r p\u00e5 rea Syfte: \u00d6ka rea fsg genom att visa relevanta produkter p\u00e5 rea.","title":"Infobaleen recommended recommendation profiles"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#recommendations-ui","text":"You can use the platform to create personalized product recommendations that can be added to your website, checkout flow or in email campaigns. You can create customizable API recommendations profiles with filters and rules based on your product meta data, and apply them to different use cases. Below is an example how the recommendations tab can look. By clicking the cog wheel you will open the settings.","title":"Recommendations UI"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#settings","text":"Here we explain the different settings fields that can be seen after clicing the cog wheel.","title":"Settings"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#search","text":"","title":"Search"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#columns","text":"Columns are the data columns that can be used to create filters and rules. These are activated in the data model with the MlFilter toggle (MlFilter = Machine Learning Filter), see the image below.","title":"Columns"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#filter-expression","text":"Here you can write an expression that creates a filter for your recommendation profile. For example, perhaps you just want to recommend products in a specific category, then you would write something like category = 'Kaffe & Te' , or price > 100 If the expression is True the product will be included in the recommendation, and it the expression is False the product will be filtered. In the case of price > 100 , the expression will return True for all products with a price larger than 100 thus removing all items with a price lower than 100 from the recommendations.","title":"Filter expression"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#boost-expression","text":"","title":"Boost expression"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#interactionfilter","text":"","title":"InteractionFilter"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#trend","text":"Trend limits the time interval for the data that the recomendations are based on. Max trend uses a short time interval resulting in the machine-learning model only recommending products that are trending last few weeks.","title":"Trend"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#limit","text":"Limit decides how many recomended items are returned. For example, Limit 4 = Four recommended items. Limit 12 = 12 recommended items.","title":"Limit"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#max-orders","text":"Number of orders that are taken into concideration when recommending products. Max orders = 1 means only the items included in the latest order are used as purchase history for that user. Max orders = 2 means the items in the two latest orders are taken into account.","title":"Max orders"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#max-interactions","text":"Number of items that are taken into concideration when recommending products. Max items = 1 means only the latest purchased item is used as purchase history for that user. Max items = 2 means the two latest items are taken into account.","title":"Max interactions"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#allow-items-from-history","text":"Sets a filter so that all items the user have bought cannot be recommended.","title":"Allow items from history"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#shuffled","text":"If Limit is set to 10 the items are recomended in order (most likly next purchase is at the top). by enabling shuffled it still recommends the top 10 items but the order of the top 10 items are shuffled.","title":"Shuffled"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#advanced","text":"Create an advanced filter. Name: is the variable name. Field: the field wich you are taking data from Option: \"all\" means all items in the users purchase history. \"items\" means all items sent in through the API by the customer. When the customer makes an API call for the recommendation they can include items in the API call. for example items in the basket, the item you are currently looking at etc. See an example below:","title":"Advanced"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#example-of-advanced-quey","text":"{\"Context\":[{\"Name\":\"bought_phone_model\",\"Field\":\"phone_model\",\"Option\":\"all\"}]} Filter expression: hasAny(split(bought_phone_model,\",\"),makeArray(phone_model)) split(bought_phone_model,\",\") returns an array of your purchase history (\"Field\":\"phone_model\"): ['bought_phone_model_1','bought_phone_model_2','bought_phone_model_3','bought_phone_model_4'] makeArray(phone_model) returns an array of all phone_model : ['phone_model_1','phone_model_2','phone_model_3','phone_model_n'] hasAny checks if elements in array 1 is contained in array 2 in this case the customers purchase history includes iPhone 12/Pro MagSafe and iPhone 12/Pro The expression hasAny(split(bought_phone_model,\",\"),makeArray(phone_model)) will thus return true for all pruducts where phone_model = iPhone 12/Pro MagSafe or iPhone 12/Pro and false for all other products. Thus only products with the same phone_model will be recommended. If you change the expression to hasAny(split(bought_phone_model,\",\"),makeArray(phone_model)) = FALSE everything will be inverted thus only recomending products where the phone_model != iPhone 12/Pro MagSafe or iPhone 12/Pro . [NOTE! when adding an item to in the Search for items you DO NOT add this item to your purchase history, these items are sent in from the API meaning they will only be affected by a filter expression if you use the option item instead of all ] See example:","title":"Example of advanced quey"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#add-field-limit","text":"Field limit lets you set a filter on how many of each category should be recommended. This is usually used on product category where you only want to include ex. max 2 of each product category.","title":"Add field limit"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#save-as-new-profile","text":"Saves the current configuration as a profile new","title":"Save as new profile"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#save-profile","text":"Overrides the current profile with the current configuration.","title":"Save profile"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#delete-profile","text":"Delets selected profile.","title":"Delete profile"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#front-page","text":"","title":"Front page"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#search-for-items","text":"Items added in the search items window are counted as items given to the platform through the API call. This means they dont not affected by boughtArticleGroup but affects basketArticleGroup .","title":"Search for items"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#profile","text":"Saved profiles","title":"Profile"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#refresh","text":"","title":"Refresh"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#clear-user-and-items","text":"Removes selected items and user","title":"Clear user and items"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#bench","text":"Shows how fast the recommendation are returend when making an API call. (if your datamodel has MLFilter active for many fields the recommendations will be slower).","title":"Bench"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#add-random-item","text":"Same as search for items but adds a random item.","title":"Add random item"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#add-random-user","text":"Selects a random user and shows what items this user has previously bought and the returned recommended items based on this.","title":"Add random user"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#recommendation-output","text":"The output is what the API returns to the customer. All fields active in the Columns section are returnerd. if the image is active the output will only show the image and format. by disabling the image you can see all other fields that are returned. With image active: With image inactive:","title":"Recommendation output"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#data-available-in-recommendations","text":"","title":"Data available in recommendations"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#mlmeta","text":"To show an image and name on your recomendations you have to choose a format field and an image field under items AND activate the ml meta for these fields.","title":"MlMeta"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#mlfilter","text":"To write filter expressions based on fields you have to activate ml filter for these fields","title":"MlFilter"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#recommendations-in-emails","text":"","title":"Recommendations in emails"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#introduction","text":"We can supply personalized recommendations in automated email flows. The technical integration varies between partners, but the main difference compared to segments is that we supply an individually customized set of products per user.","title":"Introduction"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#partners","text":"Here we specify how the process works between us and specified partners","title":"Partners"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#voyado","text":"Voyado has an ftp server to which we push a file of the form ContactId,Skus,ExpiryDate 00000000-0000-0000-0000-000000000000,\"Item692,Item165,Item835,Item166,Item836,Item838,Item277,Item504,Item332,Item218,Item608,Item528\",9999-12-31T00:00:00.000+0000 0001394c-9e71-43d6-86f3-ada901fc4c10,\"Item218,Item411,Item135,Item504,Item692,Item202,Item1035,Item835,Item412,Item277,Item610,Item515\",9999-12-31T00:00:00.000+0000 00021b19-db3d-4d26-84ce-ad56g0f028e3,\"Item165,Item702,Item701,Item146,Item166,Item835,Item1035,Item610,Item836,Item135,Item218,Item150\",9999-12-31T00:00:00.000+0000 The list of Skus is generated from our recommendation engine for the user specified under ContactId , where the 0 line is the fallback recommendation. -- Insert how to setup Voyado Export here -- Once the recommendation flow is set up and an initial export has been sent, the recommendations can be previewed in Voyado. This is done by us selecting a few contactIds from the platform for them to check. Then the customer triggers a support ticket by sending an email to support@revide.se (revide is the old name, this may be updated) with the contactIds and requests checking the preview. Note: Historically there has been some issues due to contacts being labeled as \"Contact\" instead of \"Member\". This should be resolved as of April 2022, but to be safe, it could be a good idea to locate and include a user labeled \"Contact\" that has a purchase history.","title":"Voyado"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#infobaleen-recommended-recommendation-profiles","text":"","title":"Infobaleen recommended recommendation profiles"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#basic-settings","text":"Products in stock For clear gender-related products: See if you should only recommend products with the same gender","title":"Basic settings"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#olika-rekommendationer","text":"","title":"Olika rekommendationer"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#standard-rekommendation-standard","text":"Rekommendera det mest sannolika n\u00e4sta k\u00f6pet (medium trend) Syfte: H\u00f6g sannolik att konvertera","title":"Standard rekommendation: Standard"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#liknande-produkter-rekommendation-similar","text":"Rekommendera produkter ur samma kategori Syfte: H\u00f6g igenk\u00e4nningsfaktor","title":"Liknande produkter rekommendation: Similar"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#inspiration-rekommendation-inspiration","text":"Rekommendera produkter inom kategorier kunden ej handlat inom tidigare / vald produkt Syfte: Inspirera till k\u00f6p i de mest relevanta kategorier man \u00e4nnu ej handlat inom / produkten ej \u00e4r i","title":"Inspiration rekommendation: Inspiration"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#win-back-rekommendation-win-back","text":"Rekommendera mest sannolika produkter en kund kommer k\u00f6pa utifr\u00e5n historiskt k\u00f6pbeteende Syfte: Presenter de produkter en churnad kund har h\u00f6gst sannolikhet att k\u00f6pa","title":"Win-back rekommendation: Win-back"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#check-out-rekommendation-check-out","text":"Rekommendera billigare produkter utifr\u00e5n vad kunden lagt i sin varukorg Syfte: \u00d6ka AOV med en relevant produkt i det l\u00e4gre prissegmentet Expression: tofloat(Price) < tofloat(last(basketArticlePrice))*0.8","title":"Check-out rekommendation: Check-out"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#tack-for-senast-order-rekommendation-last-purchase","text":"Rekommendera mest sannolika produkter utifr\u00e5n kundens senaste order Syfte: \u00d6ka andelen kunder som g\u00f6r ett n\u00e4sta k\u00f6p","title":"Tack f\u00f6r senast order rekommendation: Last purchase"},{"location":"Platform/Recommendations/Infobaleen%20recommended%20recommendation%20profiles/#produkter-pa-rea-rekommendationer-on-sale","text":"Rekommendera produkter som \u00e4r p\u00e5 rea Syfte: \u00d6ka rea fsg genom att visa relevanta produkter p\u00e5 rea.","title":"Produkter p\u00e5 rea rekommendationer: On sale"},{"location":"Platform/Recommendations/Overview/","text":"Recommendations UI You can use the platform to create personalized product recommendations that can be added to your website, checkout flow or in email campaigns. By applying Filters and Rules you can adapt the result to however you desire. In the recommendations tab you can configure everything related to your recommendations. We have integrations to Dotdigital , Voyado , Rule etc, if you wish for other integrations let us know and we will discuss the opportunities. You can also export recommendations using our API which enables a wide variety of use cases. More information about how to use the recommendations page can be found under Example Use Cases .","title":"Overview"},{"location":"Platform/Recommendations/Overview/#recommendations-ui","text":"You can use the platform to create personalized product recommendations that can be added to your website, checkout flow or in email campaigns. By applying Filters and Rules you can adapt the result to however you desire. In the recommendations tab you can configure everything related to your recommendations. We have integrations to Dotdigital , Voyado , Rule etc, if you wish for other integrations let us know and we will discuss the opportunities. You can also export recommendations using our API which enables a wide variety of use cases. More information about how to use the recommendations page can be found under Example Use Cases .","title":"Recommendations UI"},{"location":"Platform/Recommendations/Recommendations%20in%20emails/","text":"Recommendations in emails Introduction We can supply personalized recommendations in automated email flows. The technical integration varies between partners, but the main difference compared to segments is that we supply an individually customized set of products per user. Partners Here we specify how the process works between us and specified partners Voyado Voyado has an ftp server to which we push a file of the form ContactId,Skus,ExpiryDate 00000000-0000-0000-0000-000000000000,\"Item692,Item165,Item835,Item166,Item836,Item838,Item277,Item504,Item332,Item218,Item608,Item528\",9999-12-31T00:00:00.000+0000 0001394c-9e71-43d6-86f3-ada901fc4c10,\"Item218,Item411,Item135,Item504,Item692,Item202,Item1035,Item835,Item412,Item277,Item610,Item515\",9999-12-31T00:00:00.000+0000 00021b19-db3d-4d26-84ce-ad56g0f028e3,\"Item165,Item702,Item701,Item146,Item166,Item835,Item1035,Item610,Item836,Item135,Item218,Item150\",9999-12-31T00:00:00.000+0000 The list of Skus is generated from our recommendation engine for the user specified under ContactId , where the 0 line is the fallback recommendation. -- Insert how to setup Voyado Export here -- Once the recommendation flow is set up and an initial export has been sent, the recommendations can be previewed in Voyado. This is done by us selecting a few contactIds from the platform for them to check. Then the customer triggers a support ticket by sending an email to support@revide.se (revide is the old name, this may be updated) with the contactIds and requests checking the preview. Note: Historically there has been some issues due to contacts being labeled as \"Contact\" instead of \"Member\". This should be resolved as of April 2022, but to be safe, it could be a good idea to locate and include a user labeled \"Contact\" that has a purchase history.","title":"Recommendations in emails"},{"location":"Platform/Recommendations/Recommendations%20in%20emails/#recommendations-in-emails","text":"","title":"Recommendations in emails"},{"location":"Platform/Recommendations/Recommendations%20in%20emails/#introduction","text":"We can supply personalized recommendations in automated email flows. The technical integration varies between partners, but the main difference compared to segments is that we supply an individually customized set of products per user.","title":"Introduction"},{"location":"Platform/Recommendations/Recommendations%20in%20emails/#partners","text":"Here we specify how the process works between us and specified partners","title":"Partners"},{"location":"Platform/Recommendations/Recommendations%20in%20emails/#voyado","text":"Voyado has an ftp server to which we push a file of the form ContactId,Skus,ExpiryDate 00000000-0000-0000-0000-000000000000,\"Item692,Item165,Item835,Item166,Item836,Item838,Item277,Item504,Item332,Item218,Item608,Item528\",9999-12-31T00:00:00.000+0000 0001394c-9e71-43d6-86f3-ada901fc4c10,\"Item218,Item411,Item135,Item504,Item692,Item202,Item1035,Item835,Item412,Item277,Item610,Item515\",9999-12-31T00:00:00.000+0000 00021b19-db3d-4d26-84ce-ad56g0f028e3,\"Item165,Item702,Item701,Item146,Item166,Item835,Item1035,Item610,Item836,Item135,Item218,Item150\",9999-12-31T00:00:00.000+0000 The list of Skus is generated from our recommendation engine for the user specified under ContactId , where the 0 line is the fallback recommendation. -- Insert how to setup Voyado Export here -- Once the recommendation flow is set up and an initial export has been sent, the recommendations can be previewed in Voyado. This is done by us selecting a few contactIds from the platform for them to check. Then the customer triggers a support ticket by sending an email to support@revide.se (revide is the old name, this may be updated) with the contactIds and requests checking the preview. Note: Historically there has been some issues due to contacts being labeled as \"Contact\" instead of \"Member\". This should be resolved as of April 2022, but to be safe, it could be a good idea to locate and include a user labeled \"Contact\" that has a purchase history.","title":"Voyado"},{"location":"Platform/Recommendations/Recommendations/","text":"","title":"Recommendations"},{"location":"Platform/Recommendations/Settings/","text":"Recommendation Profiles Here we explain the different settings fields that can be seen after clicking the cog wheel, as well as what data you find and can use. Using The Recommendations Page Show More Info Front page Search for items Items added in the search items window are counted as items given to the platform through the API call. This means they dont not affected by `boughtArticleGroup` but affects `basketArticleGroup`. Profile Saved profiles Refresh Clear user and items Removes selected items and user Bench Shows how fast the recommendation are returend when making an API call. (if your datamodel has MLFilter active for many fields the recommendations will be slower). Add random item Same as **search for items** but adds a random item. Add random user Selects a random user and shows what items this user has previously bought and the returned recommended items based on this. Data available in recommendations Show More Info MlMeta To show an image and name on your recomendations page you have to choose a format field in the data model edit mode, as well as an image field under items (also in the data model edit mode), and lastly activate the ml meta for these fields wanted. MlFilter To write filter expressions based on fields you have to activate ml filter for these fields, this is done in the edit mode of the data model. Filters And Customization Options Show More Info #### Search Here you can search on all the items included in the machine learning (for example only items sold > X times). If you select an item you will see the recommendations provided by the platform for that specific product(s). Columns Show More Info Columns are the data columns that can be used to create filters and rules. These are activated in the data model with the `MlFilter` toggle (MlFilter = Machine Learning Filter), see the image below. Filter expression Show More Info Here you can write an expression that creates a filter for your recommendation profile. Some example configurations: Recommend products in a specific category To recommend prodcuts in a specific category you can use something like `category = 'Kaffe & Te'`, or `price` > `100` If the expression is `True` the product will be included in the recommendation, and it the expression is `False` the product will be filtered. In the case of `price` > `100`, the expression will return `True` for all products with a price larger than 100 thus removing all items with a price lower than 100 from the recommendations. Recommend products with specific names or characters To recommended products that does not contain either `HOOK`, `TAPE` nor `AA`, you can configure the filter according to: (contains(articleName, 'HOOK') OR contains(articleName, 'TAPE') OR contains(articleName, 'AA')) = false Boost expression Show More Info Each item has a \"relevence rank\" for each user, the products with the highest relevance rank are the products that get recommended. if you set a limit of 4 products the 4 products with the highest relevance rank are shown. you can affect the relevance rank by applying a boost expression. What you write in the boost expression is multiplied with the relevance rank. if you write for example boost expression: `2` this means you are multiplying all ranks with 2, thus not changing anything since all ranks are multiplied. if you create the expression: `1+1.0*(product_group = 'bags')` all ranks are multiplied by `1` but products in the product_group `bags` are multiplied by `2` thus increasing their rank relative to other products by 100% if you change the expression to: `1+0.5*(product_group = 'bags')` the rank for bags relative to other products are increased by 50% InteractionFilter Show More Info This allows you to filter on purchase history, for example if you send in a user who has bought 2 items, and you have a filter removing 1 of the item types, the products returned will be based only on the item not filtered out. Trend Show More Info Trend limits the time interval for the data that the recomendations are based on. `Max trend` uses a short time interval resulting in the machine-learning model only recommending products that are trending last few weeks. Limit Show More Info Limit decides how many recomended items are returned. For example, Limit 4 = Four recommended items. Limit 12 = 12 recommended items. Max orders Show More Info Number of orders that are taken into concideration when recommending products. `Max orders = 1` means only the items included in the latest order are used as purchase history for that user. `Max orders = 2` means the items in the two latest orders are taken into account. Max interactions Show More Info Number of items that are taken into concideration when recommending products. `Max items = 1` means only the latest purchased item is used as purchase history for that user. `Max items = 2` means the two latest items are taken into account. Allow items from history Show More Info Sets a filter so that all items the user have bought cannot be recommended. Shuffled Show More Info If Limit is set to 10 the items are recomended in order (most likly next purchase is at the top). by enabling `shuffled` it still recommends the top 10 items but the order of the top 10 items are shuffled. Advanced Show More Info Create an advanced filter. * Name: is the variable name. * Field: the field wich you are taking data from * Option: \"all\" means all items in the users purchase history. \"items\" means all items sent in through the API by the customer. When the customer makes an API call for the recommendation they can include items in the API call. for example items in the basket, the item you are currently looking at etc. See some example advanced filters below: Show example 1: Rotation parameter recommendations | Parameter | Description | | --- | --- | | RotateLength (float 0-1) | RotateLength best\u00e4mmer hur stor andel av alla kandidater vi till\u00e5ter rekommenderas, s\u00e5 0.9 => 90% av produkterna. | | RotateSeed (int) | Med RotateSeed > 0 slumpas ordningen av kandidaterna. En och samma seed ger en viss ordning och \u00e4r unikt per anv\u00e4ndare. Vi kommer allts\u00e5 inte ignorera samma 50% av produktutbudet vid RotateLength=0.5 f\u00f6r alla anv\u00e4ndare. Ex `\"RotateSeed\":\"now()\"`| | RotateOffset (float 0-1): | Anger fr\u00e5n vilken andel av kandidaterna vi b\u00f6rjar g\u00f6ra urvalet. RotateOffset tillsammans med RotateLength skapar m\u00f6jlighet att \u201cpaginera\u201d urvalet. Man kan ex skapa 4 separata set av slumpade produkter som man roterar p\u00e5 genom att anv\u00e4nda RotateLength:0.25 och anropa APIi:t med RotateOffset: 0, 0.25, 0.5, 0.75.| Show an example of an advanced query {\"Context\":[{\"Name\":\"bought_phone_model\",\"Field\":\"phone_model\",\"Option\":\"all\"}]} *Filter expression:* hasAny(split(bought_phone_model,\",\"),makeArray(phone_model)) `split(bought_phone_model,\",\")` returns an array of your purchase history `(\"Field\":\"phone_model\"): ['bought_phone_model_1','bought_phone_model_2','bought_phone_model_3','bought_phone_model_4']` `makeArray(phone_model)` returns an array of all `phone_model`: ['phone_model_1','phone_model_2','phone_model_3','phone_model_n'] `hasAny` checks if elements in `array 1` is contained in `array 2` in this case the customers purchase history includes `iPhone 12/Pro MagSafe` and `iPhone 12/Pro` The expression `hasAny(split(bought_phone_model,\",\"),makeArray(phone_model))` will thus return `true` for all pruducts where `phone_model` = `iPhone 12/Pro MagSafe` or `iPhone 12/Pro` and `false` for all other products. Thus only products with the same `phone_model` will be recommended. If you change the expression to `hasAny(split(bought_phone_model,\",\"),makeArray(phone_model)) = FALSE` everything will be inverted thus only recomending products where the `phone_model` **!=** `iPhone 12/Pro MagSafe` or `iPhone 12/Pro`. ![image](https://user-images.githubusercontent.com/102239423/171135517-3d3eaeeb-7785-460e-a242-2a6e3cfaceb4.png) ![image](https://user-images.githubusercontent.com/102239423/171135706-fcc4ad7f-7066-441a-8e4d-c4162cacebec.png) [NOTE! when adding an item to in the `Search for items` you **DO NOT** add this item to your purchase history, these items are sent in from the API meaning they will only be affected by a filter expression if you use the option `item` instead of `all`] See example: ![image](https://user-images.githubusercontent.com/102239423/171145795-877fb7b8-6e02-4bf0-857b-985deafe6efd.png) --- #### Add field limit Show More Info Field limit lets you set a filter on how many of each category should be recommended. This is usually used on product category where you only want to include ex. max 2 of each product category. --- Other Actions Save as new profile Saves the current configuration as a profile new Save profile Overrides the current profile with the current configuration. Delete profile Delets selected profile.","title":"Settings"},{"location":"Platform/Recommendations/Settings/#recommendation-profiles","text":"Here we explain the different settings fields that can be seen after clicking the cog wheel, as well as what data you find and can use.","title":"Recommendation Profiles"},{"location":"Platform/Recommendations/Settings/#using-the-recommendations-page","text":"Show More Info","title":"Using The Recommendations Page"},{"location":"Platform/Recommendations/Settings/#filters-and-customization-options","text":"Show More Info #### Search Here you can search on all the items included in the machine learning (for example only items sold > X times). If you select an item you will see the recommendations provided by the platform for that specific product(s). Columns Show More Info Columns are the data columns that can be used to create filters and rules. These are activated in the data model with the `MlFilter` toggle (MlFilter = Machine Learning Filter), see the image below. Filter expression Show More Info Here you can write an expression that creates a filter for your recommendation profile. Some example configurations: Recommend products in a specific category To recommend prodcuts in a specific category you can use something like `category = 'Kaffe & Te'`, or `price` > `100` If the expression is `True` the product will be included in the recommendation, and it the expression is `False` the product will be filtered. In the case of `price` > `100`, the expression will return `True` for all products with a price larger than 100 thus removing all items with a price lower than 100 from the recommendations. Recommend products with specific names or characters To recommended products that does not contain either `HOOK`, `TAPE` nor `AA`, you can configure the filter according to: (contains(articleName, 'HOOK') OR contains(articleName, 'TAPE') OR contains(articleName, 'AA')) = false Boost expression Show More Info Each item has a \"relevence rank\" for each user, the products with the highest relevance rank are the products that get recommended. if you set a limit of 4 products the 4 products with the highest relevance rank are shown. you can affect the relevance rank by applying a boost expression. What you write in the boost expression is multiplied with the relevance rank. if you write for example boost expression: `2` this means you are multiplying all ranks with 2, thus not changing anything since all ranks are multiplied. if you create the expression: `1+1.0*(product_group = 'bags')` all ranks are multiplied by `1` but products in the product_group `bags` are multiplied by `2` thus increasing their rank relative to other products by 100% if you change the expression to: `1+0.5*(product_group = 'bags')` the rank for bags relative to other products are increased by 50% InteractionFilter Show More Info This allows you to filter on purchase history, for example if you send in a user who has bought 2 items, and you have a filter removing 1 of the item types, the products returned will be based only on the item not filtered out. Trend Show More Info Trend limits the time interval for the data that the recomendations are based on. `Max trend` uses a short time interval resulting in the machine-learning model only recommending products that are trending last few weeks. Limit Show More Info Limit decides how many recomended items are returned. For example, Limit 4 = Four recommended items. Limit 12 = 12 recommended items. Max orders Show More Info Number of orders that are taken into concideration when recommending products. `Max orders = 1` means only the items included in the latest order are used as purchase history for that user. `Max orders = 2` means the items in the two latest orders are taken into account. Max interactions Show More Info Number of items that are taken into concideration when recommending products. `Max items = 1` means only the latest purchased item is used as purchase history for that user. `Max items = 2` means the two latest items are taken into account. Allow items from history Show More Info Sets a filter so that all items the user have bought cannot be recommended. Shuffled Show More Info If Limit is set to 10 the items are recomended in order (most likly next purchase is at the top). by enabling `shuffled` it still recommends the top 10 items but the order of the top 10 items are shuffled.","title":"Filters And Customization Options"},{"location":"Platform/Recommendations/Settings/#other-actions","text":"","title":"Other Actions"},{"location":"Platform/Recommendations/Settings/#save-as-new-profile","text":"Saves the current configuration as a profile new","title":"Save as new profile"},{"location":"Platform/Recommendations/Settings/#save-profile","text":"Overrides the current profile with the current configuration.","title":"Save profile"},{"location":"Platform/Recommendations/Settings/#delete-profile","text":"Delets selected profile.","title":"Delete profile"},{"location":"Platform/Segmentations/Auto-targeting/","text":"Auto-targeting Auto-targeting helps save time while at the same time finding optimal groups of customers to target with what items. In this part we will first shortly go over the process, and then dive deeper into different settings and adjustments you can make. We start with User Settings for the user segment and an example of only including customers that has a previous purchase of some sort. Creating two Advertisements where we let our AI choose the most appropriate products for our targeted segment Enabling the AI to divide the user segment into the most accurate segments for increased potential Auto-targeting identifies optimal combinations of items and users that helps increase conversion in campaigns through machine learning. Evaluating and Exporting the segments. Why use auto-targeting? You can use Infobaleens auto-targering AI to answer the below questions: What products should I use in my targeted campaign to a specific customer group? Infobaleens AI ranks the products based on what products are most likely to trigger a purchase given the selected group of customers. Which customers should I send a campaign with specific products to? Infobaleens AI ranks the users based on who are most probable to make a purchase given the products in your campaign. Using this information you can avoid sending email to customers that would consider it spam by only selecting customers that show the highest affinity to the product you want to promote. Step-by-step tutorial to create an AI-based auto-targeting campaign Step 1: Create auto-targeting campaign Choose the Segmentations tab Create a new auto-targeting campaign by clicking the + icon in the upper right corner Choose a segment name and select Auto-targeting under Segment Type. Step 2: Choose recipients ( User Settings ) After the campaign has been created, now it's time to set the recipients (audience) for the campaign. If you do not add a filter you are targeting your whole user base, as you can see in the example below 520,954 (out of 520,954). If you want to select a specific customer group you can add a filter by pressing the icon (Add filter group) under User Settings (see image below) to create a filter group. From the add filter group you can chose between item , interaction and user filter. The user filter lets you filter your userbase based on user metadata such as age, gender, country, region, etc. The interaction filter lets you filter your userbase on interaction metadata such as order_id, sales price, discount, tax, store, freight etc. (This means users that has made an interaction at a particular store or discount...) The item filter lets you filter your userbase on item metadata such as product name, product category, color, size, COGS, etc. (This means users that has purchased an item in a particular color, size, category...) After adding a filter group you can now select the metadata you want to use. Press the icon which opens a drop down where you can select the field you want use to create your filter. In the below example we select the field region . From here you can slice your userbase to only include customers that live for example in Stockholm and Sk\u00e5ne You can add a additional filter groups, in the example below we add an additional item filter to only include users that have made a purchase in the category Hudv\u00e5rd From these two filter we have sliced our customer base down to 101,168 (out of 520,954) customers. Step 3: Choose auto-targeting settings ( Auto-targeting Settings ) These settings allow you to decide how you want to approach the auto-targeting. The tick box lets you choose if you want to block users from being included in an advertisement including products they already bought. The Trend slide has to do with how much weight trending products should gain, for example if you choose a high trend value, then seasonal trends in sales will have higher weight (e.g. during Christmas more Santa Claus-products are probably sold) Step 4: Create an Advertisement To create an advertisement click the icon on the left side below the User Settings card section. For each advertisement you choose to create, you can use different filters. The filters on each advertisement is unique for that advertisement and allows you to target a sub-segments within the segment you got after step 2, User Settings for each different advertisement. You can now choose between letting the AI choose products depending on the segments chosen, or add a specific item wanted for whatever reason. A combination of both alternatives is also recommended. The buttons for doing this is ADD ITEM + ADD AUTO ITEM according to picture below. When you have chosen or let the AI choose the product(s), selected wanted filters on users/items you're all set and can let our AI take over, press ' SAVE AND RUN ' Step 5: Evaluating and exporting The AI has now divided the segment into the best advertisements. You can see the distribution on the right side of the site, along with a graph showing the score distribution. The button EXPORT USERS allows you to export the users to another data source, or download a file containing the users for each segment. You can also go back and readjust your advertisements by clicking the pencil on the top right picture below. Below is further information about the Auto-targeting. Filter Settings Below is a description of all the different buttons, toggles etc in the segmentation/auto-targeting on the platform. Disable Filter Details By toggling Enable filter (see figure below) you can disable the whole filter group. This can be used to easier see the effect a filter has on the customer base. Exclude Details By toggling Exclude (see figure below) you invert the filter. In this example this means we are looking at customers that live in Stockholm or Sk\u00e5ne, that HAS NOT made a purchase in the category Hudv\u00e5rd We can also chose to exclude on the item level instead of on the interaction level (see below). In this example this means we are looking att customers that live in Stockholm or Sk\u00e5ne that HAS made a purchase in any category Except in the category Hudv\u00e5rd. Match Any Details By toggling Match Any** (see figure below) you change how the filtergroups interact from AND to OR . when Match Any is not active only the users that fill the criterias of ALL the filter groups are included. By activating Match Any users that fill the criterias of ANY filter is included Filter options for category, number and timestamps Details In the datamodel you can assign different roles to a field depending on how it should behave. A category behaves like a string (text) this means you can create a filter that include all fields that contains a certain text. With a Number you can create filters that are larger or smaller than the field. With a Timestamp you can use the date format to filter on dates larger than ex. 2022-10-10. Category options Equals Not equals In Not in Starts with Not starts with Is empty Is not empty Contains Number options Equals Not Equals Less than Greater than Less than or equals Greater than or equals Between Not between Timestamp options Between Not between Equals Not equals Before After","title":"Auto-targeting"},{"location":"Platform/Segmentations/Auto-targeting/#auto-targeting","text":"Auto-targeting helps save time while at the same time finding optimal groups of customers to target with what items. In this part we will first shortly go over the process, and then dive deeper into different settings and adjustments you can make. We start with User Settings for the user segment and an example of only including customers that has a previous purchase of some sort. Creating two Advertisements where we let our AI choose the most appropriate products for our targeted segment Enabling the AI to divide the user segment into the most accurate segments for increased potential Auto-targeting identifies optimal combinations of items and users that helps increase conversion in campaigns through machine learning. Evaluating and Exporting the segments. Why use auto-targeting? You can use Infobaleens auto-targering AI to answer the below questions: What products should I use in my targeted campaign to a specific customer group? Infobaleens AI ranks the products based on what products are most likely to trigger a purchase given the selected group of customers. Which customers should I send a campaign with specific products to? Infobaleens AI ranks the users based on who are most probable to make a purchase given the products in your campaign. Using this information you can avoid sending email to customers that would consider it spam by only selecting customers that show the highest affinity to the product you want to promote.","title":"Auto-targeting"},{"location":"Platform/Segmentations/Auto-targeting/#step-by-step-tutorial-to-create-an-ai-based-auto-targeting-campaign","text":"","title":"Step-by-step tutorial to create an AI-based auto-targeting campaign"},{"location":"Platform/Segmentations/Auto-targeting/#step-1-create-auto-targeting-campaign","text":"Choose the Segmentations tab Create a new auto-targeting campaign by clicking the + icon in the upper right corner Choose a segment name and select Auto-targeting under Segment Type.","title":"Step 1: Create auto-targeting campaign"},{"location":"Platform/Segmentations/Auto-targeting/#step-2-choose-recipients-user-settings","text":"After the campaign has been created, now it's time to set the recipients (audience) for the campaign. If you do not add a filter you are targeting your whole user base, as you can see in the example below 520,954 (out of 520,954). If you want to select a specific customer group you can add a filter by pressing the icon (Add filter group) under User Settings (see image below) to create a filter group. From the add filter group you can chose between item , interaction and user filter. The user filter lets you filter your userbase based on user metadata such as age, gender, country, region, etc. The interaction filter lets you filter your userbase on interaction metadata such as order_id, sales price, discount, tax, store, freight etc. (This means users that has made an interaction at a particular store or discount...) The item filter lets you filter your userbase on item metadata such as product name, product category, color, size, COGS, etc. (This means users that has purchased an item in a particular color, size, category...) After adding a filter group you can now select the metadata you want to use. Press the icon which opens a drop down where you can select the field you want use to create your filter. In the below example we select the field region . From here you can slice your userbase to only include customers that live for example in Stockholm and Sk\u00e5ne You can add a additional filter groups, in the example below we add an additional item filter to only include users that have made a purchase in the category Hudv\u00e5rd From these two filter we have sliced our customer base down to 101,168 (out of 520,954) customers.","title":"Step 2: Choose recipients (User Settings)"},{"location":"Platform/Segmentations/Auto-targeting/#step-3-choose-auto-targeting-settings-auto-targeting-settings","text":"These settings allow you to decide how you want to approach the auto-targeting. The tick box lets you choose if you want to block users from being included in an advertisement including products they already bought. The Trend slide has to do with how much weight trending products should gain, for example if you choose a high trend value, then seasonal trends in sales will have higher weight (e.g. during Christmas more Santa Claus-products are probably sold)","title":"Step 3: Choose auto-targeting settings (Auto-targeting Settings)"},{"location":"Platform/Segmentations/Auto-targeting/#step-4-create-an-advertisement","text":"To create an advertisement click the icon on the left side below the User Settings card section. For each advertisement you choose to create, you can use different filters. The filters on each advertisement is unique for that advertisement and allows you to target a sub-segments within the segment you got after step 2, User Settings for each different advertisement. You can now choose between letting the AI choose products depending on the segments chosen, or add a specific item wanted for whatever reason. A combination of both alternatives is also recommended. The buttons for doing this is ADD ITEM + ADD AUTO ITEM according to picture below. When you have chosen or let the AI choose the product(s), selected wanted filters on users/items you're all set and can let our AI take over, press ' SAVE AND RUN '","title":"Step 4: Create an Advertisement"},{"location":"Platform/Segmentations/Auto-targeting/#step-5-evaluating-and-exporting","text":"The AI has now divided the segment into the best advertisements. You can see the distribution on the right side of the site, along with a graph showing the score distribution. The button EXPORT USERS allows you to export the users to another data source, or download a file containing the users for each segment. You can also go back and readjust your advertisements by clicking the pencil on the top right picture below.","title":"Step 5: Evaluating and exporting"},{"location":"Platform/Segmentations/Auto-targeting/#below-is-further-information-about-the-auto-targeting","text":"","title":"Below is further information about the Auto-targeting."},{"location":"Platform/Segmentations/Auto-targeting/#filter-settings","text":"Below is a description of all the different buttons, toggles etc in the segmentation/auto-targeting on the platform.","title":"Filter Settings"},{"location":"Platform/Segmentations/Auto-targeting/#disable-filter","text":"Details By toggling Enable filter (see figure below) you can disable the whole filter group. This can be used to easier see the effect a filter has on the customer base.","title":"Disable Filter"},{"location":"Platform/Segmentations/Auto-targeting/#exclude","text":"Details By toggling Exclude (see figure below) you invert the filter. In this example this means we are looking at customers that live in Stockholm or Sk\u00e5ne, that HAS NOT made a purchase in the category Hudv\u00e5rd We can also chose to exclude on the item level instead of on the interaction level (see below). In this example this means we are looking att customers that live in Stockholm or Sk\u00e5ne that HAS made a purchase in any category Except in the category Hudv\u00e5rd.","title":"Exclude"},{"location":"Platform/Segmentations/Auto-targeting/#match-any","text":"Details By toggling Match Any** (see figure below) you change how the filtergroups interact from AND to OR . when Match Any is not active only the users that fill the criterias of ALL the filter groups are included. By activating Match Any users that fill the criterias of ANY filter is included","title":"Match Any"},{"location":"Platform/Segmentations/Auto-targeting/#filter-options-for-category-number-and-timestamps","text":"Details In the datamodel you can assign different roles to a field depending on how it should behave. A category behaves like a string (text) this means you can create a filter that include all fields that contains a certain text. With a Number you can create filters that are larger or smaller than the field. With a Timestamp you can use the date format to filter on dates larger than ex. 2022-10-10.","title":"Filter options for category, number and timestamps"},{"location":"Platform/Segmentations/Clustering/","text":"Clustering Clustering makes it possible to group users and items into a specified number of clusters. For finding cluster, there are three different algorithms that can be used: embedding with item clusters from the trained machine-learning model and users assigned to the most connected cluster, plsa , Probabilistic Latent Semantic Analysis run separately, and modularity , network-based modularity optimization run separately. embedding is the fastest method since it uses the trained machine-learning model.","title":"Clustering"},{"location":"Platform/Segmentations/Clustering/#clustering","text":"Clustering makes it possible to group users and items into a specified number of clusters. For finding cluster, there are three different algorithms that can be used: embedding with item clusters from the trained machine-learning model and users assigned to the most connected cluster, plsa , Probabilistic Latent Semantic Analysis run separately, and modularity , network-based modularity optimization run separately. embedding is the fastest method since it uses the trained machine-learning model.","title":"Clustering"},{"location":"Platform/Segmentations/Segmentation_overview/","text":"Segmentation Overview The segmentation section of the platform focuses on finding optimal groups of customers for different types of campaigns. There's two different types of segmentation as follows below. Auto-targeting Set your customer/product filters and let our AI divide your customers into optimized subgroups for your products, you can either choose the products yourself, or let the AI find suitable products to recommend for each sub-group. Read more about Auto-targeting under the Auto-targeting tab Clustering Can be used to make the platform find similar sub-groups of customers within your customer base. You can then use these clusters for analysis and targeting etc. Read more about Auto-targeting under the Clustering tab","title":"Overview"},{"location":"Platform/Segmentations/Segmentation_overview/#segmentation-overview","text":"The segmentation section of the platform focuses on finding optimal groups of customers for different types of campaigns. There's two different types of segmentation as follows below.","title":"Segmentation Overview"},{"location":"Platform/Segmentations/Segmentation_overview/#auto-targeting","text":"Set your customer/product filters and let our AI divide your customers into optimized subgroups for your products, you can either choose the products yourself, or let the AI find suitable products to recommend for each sub-group. Read more about Auto-targeting under the Auto-targeting tab","title":"Auto-targeting"},{"location":"Platform/Segmentations/Segmentation_overview/#clustering","text":"Can be used to make the platform find similar sub-groups of customers within your customer base. You can then use these clusters for analysis and targeting etc. Read more about Auto-targeting under the Clustering tab","title":"Clustering"}]}